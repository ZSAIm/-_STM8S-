STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 1  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

   1                         stm8/     
   2                                   
   0  000000                                 #include "ADC_Handler.inc"
   1                         
   2  000000 U                               #IFDEF   __ADC_Handler_
   5  000000                                 #define  __ADC_Handler_ 1
   6                         
   7                                                          ;#include "ADC.inc"
   0  000000                                 #include "Common.inc"
   1                                   
   2  000000 U                               #IFDEF   __COMMON_INC_
   5                                   
   6  000000                                 #define  __COMMON_INC_ 1
   7                                   
   8  000000                                 EXTERN   LCD_Delay.W 
   9  000000                                 EXTERN   ADC_Delay.W
  10  000000                                 EXTERN   KeyDelay.W
  11  000000                                 EXTERN   CPU_Delay_1us.W
  12  000000                                 EXTERN   MassDivider.W
  13                                                          ;EXTERN MassDivider_old.W
  14                                   
  15  000000                                 EXTERN   TriMul.W
  16  000000                                 EXTERN   QuadMul.W
  17  000000                                 EXTERN   TriDiv.W
  18                                   
  19  000000                                 #ENDIF   
  20                                   
  21                                   
<END_OF_INCLUSION>
   0  000000                                 #include "GlobalVar.inc"
   1                         
   2  000000 U                               #IFDEF   __GLOBAL_VAR__
   5                                   
   6  000000                                 #define  __GLOBAL_VAR__ 1
   7                         ;   ++ 0x0F
   8  000000                                 EXTERN   LCD_VAR0.B
   9  000000                                 EXTERN   LCD_VAR1.B
  10  000000                                 EXTERN   LCD_VAR2.B
  11                                   
  12  000000                                 EXTERN   ADC_COUNTER.B
  13                         
  14                                   
  15                         ;   ++ 0x04
  16  000000                                 EXTERN   ADC_SUM.B
  17  000000                                 EXTERN   ADC_SUM0.B
  18  000000                                 EXTERN   ADC_SUM1.B
  19  000000                                 EXTERN   ADC_SUM2.B
  20  000000                                 EXTERN   ADC_SUM3.B
  21                         ;   ++ 0x04
  22  000000                                 EXTERN   ADC_AVG.B
  23  000000                                 EXTERN   ADC_AVG0.B
  24  000000                                 EXTERN   ADC_AVG1.B
  25  000000                                 EXTERN   ADC_AVG2.B
  26  000000                                 EXTERN   ADC_AVG3.B
  27                         ;   ++ 0x18
  28  000000                                 EXTERN   ADC_STORE.B
  29                         
  30  000000                                 EXTERN   ADC_S00.B 
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 2  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  31  000000                                 EXTERN   ADC_S01.B
  32  000000                                 EXTERN   ADC_S02.B
  33                                   
  34  000000                                 EXTERN   ADC_S10.B
  35  000000                                 EXTERN   ADC_S11.B
  36  000000                                 EXTERN   ADC_S12.B
  37                         
  38  000000                                 EXTERN   ADC_S20.B
  39  000000                                 EXTERN   ADC_S21.B
  40  000000                                 EXTERN   ADC_S22.B
  41                                   
  42  000000                                 EXTERN   ADC_S30.B
  43  000000                                 EXTERN   ADC_S31.B
  44  000000                                 EXTERN   ADC_S32.B
  45                                   
  46  000000                                 EXTERN   ADC_S40.B
  47  000000                                 EXTERN   ADC_S41.B
  48  000000                                 EXTERN   ADC_S42.B
  49                                   
  50  000000                                 EXTERN   ADC_S50.B
  51  000000                                 EXTERN   ADC_S51.B
  52  000000                                 EXTERN   ADC_S52.B
  53                                   
  54  000000                                 EXTERN   ADC_S60.B
  55  000000                                 EXTERN   ADC_S61.B
  56  000000                                 EXTERN   ADC_S62.B
  57                                   
  58  000000                                 EXTERN   ADC_S70.B
  59  000000                                 EXTERN   ADC_S71.B
  60  000000                                 EXTERN   ADC_S72.B
  61                         ;   ++ 0x03
  62  000000                                 EXTERN   ADC_S80.B
  63  000000                                 EXTERN   ADC_S81.B
  64  000000                                 EXTERN   ADC_S82.B
  65                                   
  66  000000                                 EXTERN   ADC_S90.B
  67  000000                                 EXTERN   ADC_S91.B
  68  000000                                 EXTERN   ADC_S92.B
  69                                   
  70  000000                                 EXTERN   ADC_SA0.B
  71  000000                                 EXTERN   ADC_SA1.B
  72  000000                                 EXTERN   ADC_SA2.B
  73                                   
  74  000000                                 EXTERN   ADC_SB0.B
  75  000000                                 EXTERN   ADC_SB1.B
  76  000000                                 EXTERN   ADC_SB2.B
  77                                   
  78  000000                                 EXTERN   ADC_SC0.B
  79  000000                                 EXTERN   ADC_SC1.B
  80  000000                                 EXTERN   ADC_SC2.B
  81                                   
  82  000000                                 EXTERN   ADC_SD0.B
  83  000000                                 EXTERN   ADC_SD1.B
  84  000000                                 EXTERN   ADC_SD2.B
  85                                   
  86  000000                                 EXTERN   ADC_SE0.B
  87  000000                                 EXTERN   ADC_SE1.B
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 3  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  88  000000                                 EXTERN   ADC_SE2.B
  89                                   
  90  000000                                 EXTERN   ADC_SF0.B
  91  000000                                 EXTERN   ADC_SF1.B
  92  000000                                 EXTERN   ADC_SF2.B
  93                                   
  94  000000                                 EXTERN   ADC_SG0.B
  95  000000                                 EXTERN   ADC_SG1.B
  96  000000                                 EXTERN   ADC_SG2.B
  97                                   
  98  000000                                 EXTERN   ADC_SH0.B
  99  000000                                 EXTERN   ADC_SH1.B
 100  000000                                 EXTERN   ADC_SH2.B
 101                                   
 102  000000                                 EXTERN   ADC_SI0.B
 103  000000                                 EXTERN   ADC_SI1.B
 104  000000                                 EXTERN   ADC_SI2.B
 105                                   
 106  000000                                 EXTERN   ADC_SJ0.B
 107  000000                                 EXTERN   ADC_SJ1.B
 108  000000                                 EXTERN   ADC_SJ2.B
 109                                   
 110  000000                                 EXTERN   ADC_SK0.B
 111  000000                                 EXTERN   ADC_SK1.B
 112  000000                                 EXTERN   ADC_SK2.B
 113                                   
 114  000000                                 EXTERN   ADC_SL0.B
 115  000000                                 EXTERN   ADC_SL1.B
 116  000000                                 EXTERN   ADC_SL2.B
 117                                   
 118  000000                                 EXTERN   ADC_SM0.B
 119  000000                                 EXTERN   ADC_SM1.B
 120  000000                                 EXTERN   ADC_SM2.B
 121                                   
 122  000000                                 EXTERN   ADC_SN0.B
 123  000000                                 EXTERN   ADC_SN1.B
 124  000000                                 EXTERN   ADC_SN2.B
 125                                   
 126  000000                                 EXTERN   ADC_SO0.B
 127  000000                                 EXTERN   ADC_SO1.B
 128  000000                                 EXTERN   ADC_SO2.B
 129                                   
 130  000000                                 EXTERN   ADC_SP0.B
 131  000000                                 EXTERN   ADC_SP1.B
 132  000000                                 EXTERN   ADC_SP2.B
 133                                   
 134  000000                                 EXTERN   ADC_SQ0.B
 135  000000                                 EXTERN   ADC_SQ1.B
 136  000000                                 EXTERN   ADC_SQ2.B
 137                                   
 138  000000                                 EXTERN   ADC_SR0.B
 139  000000                                 EXTERN   ADC_SR1.B
 140  000000                                 EXTERN   ADC_SR2.B
 141                                   
 142  000000                                 EXTERN   ADC_SS0.B
 143  000000                                 EXTERN   ADC_SS1.B
 144  000000                                 EXTERN   ADC_SS2.B
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 4  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 145                                   
 146  000000                                 EXTERN   ADC_ST0.B
 147  000000                                 EXTERN   ADC_ST1.B
 148  000000                                 EXTERN   ADC_ST2.B
 149                                   
 150  000000                                 EXTERN   ADC_SU0.B
 151  000000                                 EXTERN   ADC_SU1.B
 152  000000                                 EXTERN   ADC_SU2.B
 153                                   
 154  000000                                 EXTERN   ADC_SV0.B
 155  000000                                 EXTERN   ADC_SV1.B
 156  000000                                 EXTERN   ADC_SV2.B
 157                                   
 158  000000                                 EXTERN   ADC_SW0.B
 159  000000                                 EXTERN   ADC_SW1.B
 160  000000                                 EXTERN   ADC_SW2.B
 161                                   
 162  000000                                 EXTERN   ADC_SX0.B
 163  000000                                 EXTERN   ADC_SX1.B
 164  000000                                 EXTERN   ADC_SX2.B
 165                                   
 166  000000                                 EXTERN   ADC_SY0.B
 167  000000                                 EXTERN   ADC_SY1.B
 168  000000                                 EXTERN   ADC_SY2.B
 169                                   
 170  000000                                 EXTERN   ADC_THRESHOLD_QUOTIENT.B
 171  000000                                 EXTERN   ADC_THRESHOLD_QUOTIENT1.B
 172  000000                                 EXTERN   ADC_THRESHOLD_QUOTIENT0.B
 173                         
 174  000000                                 EXTERN   ADC_MAX_QUOTIENT.B
 175  000000                                 EXTERN   ADC_MAX_QUOTIENT_S1.B
 176  000000                                 EXTERN   ADC_MAX_QUOTIENT_S0.B
 177                         
 178  000000                                 EXTERN   ADC_MAX_REMAINDER.B
 179  000000                                 EXTERN   ADC_MAX_REMAINDER_S1.B
 180  000000                                 EXTERN   ADC_MAX_REMAINDER_S0.B
 181                                   
 182                                   
 183                                                          ;EXTERN ADC_SLOPE.B
 184                         ;   ++ 0x01
 185  000000                                 EXTERN   ADC_NEXT_PTR.B
 186                                                          ;EXTERN ADC_MAX_PTR.B
 187                                                          ;EXTERN ADC_MIN_PTR.B
 188                                   
 189                                   
 190  000000                                 EXTERN   ADC_SLOPE.B
 191                         ;   ++ 0x04
 192  000000                                 EXTERN   ZERO_ADC.B
 193  000000                                 EXTERN   ZERO_ADC0.B
 194  000000                                 EXTERN   ZERO_ADC1.B
 195  000000                                 EXTERN   ZERO_ADC2.B
 196  000000                                 EXTERN   ZERO_ADC3.B
 197                                   
 198  000000                                 EXTERN   NET_ADC.B
 199  000000                                 EXTERN   NET_ADC0.B
 200  000000                                 EXTERN   NET_ADC1.B
 201  000000                                 EXTERN   NET_ADC2.B
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 5  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 202  000000                                 EXTERN   NET_ADC3.B
 203                                   
 204  000000                                 EXTERN   NET_BUF.B
 205  000000                                 EXTERN   NET_BUF3.B
 206  000000                                 EXTERN   NET_BUF2.B
 207  000000                                 EXTERN   NET_BUF1.B
 208  000000                                 EXTERN   NET_BUF0.B
 209                                   
 210                                   
 211  000000                                 EXTERN   WEIGHT_QUOTIENT.B
 212  000000                                 EXTERN   WEIGHT_REMAINDER.B
 213                                   
 214                                   
 215  000000                                 EXTERN   PRICE_MUL3.B
 216  000000                                 EXTERN   PRICE_MUL2.B
 217  000000                                 EXTERN   PRICE_MUL1.B
 218  000000                                 EXTERN   PRICE_MUL0.B
 219                                   
 220  000000                                 EXTERN   KEYDOWN_FLAG.B
 221                                   
 222                                   
 223  000000                                 EXTERN   KEYBOARD_STORE.B
 224                                   
 225  000000                                 EXTERN   KEYBOARD_S4.B
 226  000000                                 EXTERN   KEYBOARD_S3.B
 227  000000                                 EXTERN   KEYBOARD_S2.B
 228  000000                                 EXTERN   KEYBOARD_S1.B
 229  000000                                 EXTERN   KEYBOARD_S0.B
 230  000000                                 EXTERN   KEYBOARD_PTR.B
 231                                   
 232  000000                                 EXTERN   KEYBOARD_DOT_OK.B
 233                                   
 234  000000                                 EXTERN   KEYBOARD_PRICE_BUF_S4.B
 235  000000                                 EXTERN   KEYBOARD_PRICE_BUF_S3.B
 236  000000                                 EXTERN   KEYBOARD_PRICE_BUF_S2.B
 237  000000                                 EXTERN   KEYBOARD_PRICE_BUF_S1.B
 238  000000                                 EXTERN   KEYBOARD_PRICE_BUF_S0.B
 239                                   
 240                                   
 241  000000                                 EXTERN   KEYBOARD_THRESHOLD_BUF_S4.B
 242  000000                                 EXTERN   KEYBOARD_THRESHOLD_BUF_S3.B
 243  000000                                 EXTERN   KEYBOARD_THRESHOLD_BUF_S2.B
 244  000000                                 EXTERN   KEYBOARD_THRESHOLD_BUF_S1.B
 245  000000                                 EXTERN   KEYBOARD_THRESHOLD_BUF_S0.B
 246                                   
 247                                   
 248  000000                                 EXTERN   KEY_ARRAY_MENU.B
 249  000000                                 EXTERN   KEY_TYPING_FLAG.B
 250                                   
 251                                   
 252  000000                                 EXTERN   STR_MASS.B
 253  000000                                 EXTERN   CHAR_MASS9.B
 254  000000                                 EXTERN   CHAR_MASS8.B
 255  000000                                 EXTERN   CHAR_MASS7.B
 256  000000                                 EXTERN   CHAR_MASS6.B
 257  000000                                 EXTERN   CHAR_MASS5.B
 258  000000                                 EXTERN   CHAR_MASS4.B
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 6  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 259  000000                                 EXTERN   CHAR_MASS3.B
 260  000000                                 EXTERN   CHAR_MASS2.B
 261  000000                                 EXTERN   CHAR_MASS1.B
 262  000000                                 EXTERN   CHAR_MASS0.B
 263  000000                                 EXTERN   CHAR_MASS_1.B
 264                         
 265                                   
 266                                   
 267  000000                                 EXTERN   STR_PRICE.B
 268  000000                                 EXTERN   CHAR_PRICE5.B
 269  000000                                 EXTERN   CHAR_PRICE4.B
 270  000000                                 EXTERN   CHAR_PRICE3.B
 271  000000                                 EXTERN   CHAR_PRICE2.B
 272  000000                                 EXTERN   CHAR_PRICE1.B
 273  000000                                 EXTERN   CHAR_PRICE0.B
 274                                   
 275  000000                                 EXTERN   STR_THRESHOLD.B
 276  000000                                 EXTERN   CHAR_THRESHOLD7.B
 277  000000                                 EXTERN   CHAR_THRESHOLD6.B
 278  000000                                 EXTERN   CHAR_THRESHOLD5.B
 279  000000                                 EXTERN   CHAR_THRESHOLD4.B
 280  000000                                 EXTERN   CHAR_THRESHOLD3.B
 281  000000                                 EXTERN   CHAR_THRESHOLD2.B
 282  000000                                 EXTERN   CHAR_THRESHOLD1.B
 283  000000                                 EXTERN   CHAR_THRESHOLD0.B
 284                                   
 285                                   
 286                                   
 287  000000                                 EXTERN   STR_MONEY.B
 288  000000                                 EXTERN   CHAR_MONEY7.B
 289  000000                                 EXTERN   CHAR_MONEY6.B
 290  000000                                 EXTERN   CHAR_MONEY5.B
 291  000000                                 EXTERN   CHAR_MONEY4.B
 292  000000                                 EXTERN   CHAR_MONEY3.B
 293  000000                                 EXTERN   CHAR_MONEY2.B
 294  000000                                 EXTERN   CHAR_MONEY1.B
 295  000000                                 EXTERN   CHAR_MONEY0.B
 296                                   
 297                                   
 298  000000                                 EXTERN   STR_MAX_MASS.B
 299                                                          ;EXTERN CHAR_MAX_MASS11.B
 300                                                          ;EXTERN CHAR_MAX_MASS10.B
 301  000000                                 EXTERN   CHAR_MAX_MASS9.B
 302  000000                                 EXTERN   CHAR_MAX_MASS8.B
 303  000000                                 EXTERN   CHAR_MAX_MASS7.B
 304  000000                                 EXTERN   CHAR_MAX_MASS6.B
 305  000000                                 EXTERN   CHAR_MAX_MASS5.B
 306  000000                                 EXTERN   CHAR_MAX_MASS4.B
 307  000000                                 EXTERN   CHAR_MAX_MASS3.B
 308  000000                                 EXTERN   CHAR_MAX_MASS2.B
 309  000000                                 EXTERN   CHAR_MAX_MASS1.B
 310  000000                                 EXTERN   CHAR_MAX_MASS0.B
 311  000000                                 EXTERN   CHAR_MAX_MASS_1.B
 312                                   
 313  000000                                 #ENDIF   
 314                                   
 315                                   
<END_OF_INCLUSION>
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 7  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

   0  000000                                 #include "MacroFunction.inc"
   1                         
   2                                   
   3                                   
   4  000000 U                               #IFDEF   __MACRO_FUNCTION_
   7  000000                                 #define  __MACRO_FUNCTION_ 1
   8                                   
   0  000000                                 #include "LCD.inc"
   1                                   
   2  000000 U                               #IFDEF   __LCD_ 1
   5  000000                                 #define  __LCD_ 1
   6                                   
   0  000000                                 #include "stm8s105k4.inc"
   1                         ; STM8S105K4.inc
   2  000000 U                               #IFDEF   __INCLUDE_STM8S105K4_
   4  000000                                 #define  __INCLUDE_STM8S105K4_ 1
   0  000000                                 #include "STM8S105K.inc"
   1                         ; STM8S105K.inc
   2                         
   3                         ; Copyright (c) 2003-2012 STMicroelectronics
   4                         
   5  000000 U                               #ifdef   __STM8S105K__
   8  000000                                 #define  __STM8S105K__ 1
   9                         
  10                         ; STM8S105K
  11                         
  12                         
  13                         ; Port A
  14                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  15                         
  16  000000                                 EXTERN   PA_ODR.w      ; Port A data output latch 
                                                                ;register
  17                         
  18  000000                                 EXTERN   PA_IDR.w      ; Port A input pin value 
                                                                ;register
  19                         
  20  000000                                 EXTERN   PA_DDR.w      ; Port A data direction 
                                                                ;register
  21                         
  22  000000                                 EXTERN   PA_CR1.w      ; Port A control register 1
  23                         
  24  000000                                 EXTERN   PA_CR2.w      ; Port A control register 2
  25                         
  26                         ; Port B
  27                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  28                         
  29  000000                                 EXTERN   PB_ODR.w      ; Port B data output latch 
                                                                ;register
  30                         
  31  000000                                 EXTERN   PB_IDR.w      ; Port B input pin value 
                                                                ;register
  32                         
  33  000000                                 EXTERN   PB_DDR.w      ; Port B data direction 
                                                                ;register
  34                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 8  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  35  000000                                 EXTERN   PB_CR1.w      ; Port B control register 1
  36                         
  37  000000                                 EXTERN   PB_CR2.w      ; Port B control register 2
  38                         
  39                         ; Port C
  40                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  41                         
  42  000000                                 EXTERN   PC_ODR.w      ; Port C data output latch 
                                                                ;register
  43                         
  44  000000                                 EXTERN   PC_IDR.w      ; Port C input pin value 
                                                                ;register
  45                         
  46  000000                                 EXTERN   PC_DDR.w      ; Port C data direction 
                                                                ;register
  47                         
  48  000000                                 EXTERN   PC_CR1.w      ; Port C control register 1
  49                         
  50  000000                                 EXTERN   PC_CR2.w      ; Port C control register 2
  51                         
  52                         ; Port D
  53                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  54                         
  55  000000                                 EXTERN   PD_ODR.w      ; Port D data output latch 
                                                                ;register
  56                         
  57  000000                                 EXTERN   PD_IDR.w      ; Port D input pin value 
                                                                ;register
  58                         
  59  000000                                 EXTERN   PD_DDR.w      ; Port D data direction 
                                                                ;register
  60                         
  61  000000                                 EXTERN   PD_CR1.w      ; Port D control register 1
  62                         
  63  000000                                 EXTERN   PD_CR2.w      ; Port D control register 2
  64                         
  65                         ; Port E
  66                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  67                         
  68  000000                                 EXTERN   PE_ODR.w      ; Port E data output latch 
                                                                ;register
  69                         
  70  000000                                 EXTERN   PE_IDR.w      ; Port E input pin value 
                                                                ;register
  71                         
  72  000000                                 EXTERN   PE_DDR.w      ; Port E data direction 
                                                                ;register
  73                         
  74  000000                                 EXTERN   PE_CR1.w      ; Port E control register 1
  75                         
  76  000000                                 EXTERN   PE_CR2.w      ; Port E control register 2
  77                         
  78                         ; Port F
  79                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 9  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

                               ;;;;;;
  80                         
  81  000000                                 EXTERN   PF_ODR.w      ; Port F data output latch 
                                                                ;register
  82                         
  83  000000                                 EXTERN   PF_IDR.w      ; Port F input pin value 
                                                                ;register
  84                         
  85  000000                                 EXTERN   PF_DDR.w      ; Port F data direction 
                                                                ;register
  86                         
  87  000000                                 EXTERN   PF_CR1.w      ; Port F control register 1
  88                         
  89  000000                                 EXTERN   PF_CR2.w      ; Port F control register 2
  90                         
  91                         ; Flash
  92                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
  93                         
  94  000000                                 EXTERN   FLASH_CR1.w   ; Flash control register 1
  95                         
  96  000000                                 EXTERN   FLASH_CR2.w   ; Flash control register 2
  97                         
  98  000000                                 EXTERN   FLASH_NCR2.w  ; Flash complementary control 
                                                                ;register 2
  99                         
 100  000000                                 EXTERN   FLASH_FPR.w   ; Flash protection register
 101                         
 102  000000                                 EXTERN   FLASH_NFPR.w  ; Flash complementary protection
                                                                ; register
 103                         
 104  000000                                 EXTERN   FLASH_IAPSR.w  ; Flash in-application 
                                                                ;programming status register
 105                         
 106  000000                                 EXTERN   FLASH_PUKR.w  ; Flash Program memory 
                                                                ;unprotection register
 107                         
 108  000000                                 EXTERN   FLASH_DUKR.w  ; Data EEPROM unprotection 
                                                                ;register
 109                         
 110                         ; External Interrupt Control Register (ITC)
 111                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 112                         
 113  000000                                 EXTERN   EXTI_CR1.w    ; External interrupt control 
                                                                ;register 1
 114                         
 115  000000                                 EXTERN   EXTI_CR2.w    ; External interrupt control 
                                                                ;register 2
 116                         
 117                         ; Reset (RST)
 118                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 119                         
 120  000000                                 EXTERN   RST_SR.w      ; Reset status register 1
 121                         
 122                         ; Clock Control (CLK)
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 10  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 123                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 124                         
 125  000000                                 EXTERN   CLK_ICKR.w    ; Internal clock control 
                                                                ;register
 126                         
 127  000000                                 EXTERN   CLK_ECKR.w    ; External clock control 
                                                                ;register
 128                         
 129  000000                                 EXTERN   CLK_CMSR.w    ; Clock master status register
 130                         
 131  000000                                 EXTERN   CLK_SWR.w     ; Clock master switch register
 132                         
 133  000000                                 EXTERN   CLK_SWCR.w    ; Clock switch control register
 134                         
 135  000000                                 EXTERN   CLK_CKDIVR.w  ; Clock divider register
 136                         
 137  000000                                 EXTERN   CLK_PCKENR1.w  ; Peripheral clock gating 
                                                                ;register 1
 138                         
 139  000000                                 EXTERN   CLK_CSSR.w    ; Clock security system 
                                                                ;register
 140                         
 141  000000                                 EXTERN   CLK_CCOR.w    ; Configurable clock control 
                                                                ;register
 142                         
 143  000000                                 EXTERN   CLK_PCKENR2.w  ; Peripheral clock gating 
                                                                ;register 2
 144                         
 145  000000                                 EXTERN   CLK_CANCCR.w  ; CAN clock control register
 146                         
 147  000000                                 EXTERN   CLK_HSITRIMR.w  ; HSI clock calibration trimming
                                                                ; register
 148                         
 149  000000                                 EXTERN   CLK_SWIMCCR.w  ; SWIM clock control register
 150                         
 151                         ; Window Watchdog (WWDG)
 152                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 153                         
 154  000000                                 EXTERN   WWDG_CR.w     ; WWDG Control Register
 155                         
 156  000000                                 EXTERN   WWDG_WR.w     ; WWDR Window Register
 157                         
 158                         ; Independent Watchdog (IWDG)
 159                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 160                         
 161  000000                                 EXTERN   IWDG_KR.w     ; IWDG Key Register
 162                         
 163  000000                                 EXTERN   IWDG_PR.w     ; IWDG Prescaler Register
 164                         
 165  000000                                 EXTERN   IWDG_RLR.w    ; IWDG Reload Register
 166                         
 167                         ; Auto Wake-Up (AWU)
 168                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 11  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 169                         
 170  000000                                 EXTERN   AWU_CSR.w     ; AWU Control/Status Register
 171                         
 172  000000                                 EXTERN   AWU_APR.w     ; AWU asynchronous prescaler 
                                                                ;buffer register
 173                         
 174  000000                                 EXTERN   AWU_TBR.w     ; AWU Timebase selection 
                                                                ;register
 175                         
 176                         ; Beeper (BEEP)
 177                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 178                         
 179  000000                                 EXTERN   BEEP_CSR.w    ; BEEP Control/Status Register
 180                         
 181                         ; Serial Peripheral Interface (SPI)
 182                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 183                         
 184  000000                                 EXTERN   SPI_CR1.w     ; SPI Control Register 1
 185                         
 186  000000                                 EXTERN   SPI_CR2.w     ; SPI Control Register 2
 187                         
 188  000000                                 EXTERN   SPI_ICR.w     ; SPI Interrupt Control 
                                                                ;Register
 189                         
 190  000000                                 EXTERN   SPI_SR.w      ; SPI Status Register
 191                         
 192  000000                                 EXTERN   SPI_DR.w      ; SPI Data Register
 193                         
 194  000000                                 EXTERN   SPI_CRCPR.w   ; SPI CRC Polynomial Register
 195                         
 196  000000                                 EXTERN   SPI_RXCRCR.w  ; SPI Rx CRC Register
 197                         
 198  000000                                 EXTERN   SPI_TXCRCR.w  ; SPI Tx CRC Register
 199                         
 200                         ; I2C Bus Interface (I2C)
 201                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 202                         
 203  000000                                 EXTERN   I2C_CR1.w     ; I2C control register 1
 204                         
 205  000000                                 EXTERN   I2C_CR2.w     ; I2C control register 2
 206                         
 207  000000                                 EXTERN   I2C_FREQR.w   ; I2C frequency register
 208                         
 209  000000                                 EXTERN   I2C_OARL.w    ; I2C Own address register low
 210                         
 211  000000                                 EXTERN   I2C_OARH.w    ; I2C Own address register high
 212                         
 213  000000                                 EXTERN   I2C_DR.w      ; I2C data register
 214                         
 215  000000                                 EXTERN   I2C_SR1.w     ; I2C status register 1
 216                         
 217  000000                                 EXTERN   I2C_SR2.w     ; I2C status register 2
 218                         
 219  000000                                 EXTERN   I2C_SR3.w     ; I2C status register 3
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 12  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 220                         
 221  000000                                 EXTERN   I2C_ITR.w     ; I2C interrupt control 
                                                                ;register
 222                         
 223  000000                                 EXTERN   I2C_CCRL.w    ; I2C Clock control register 
                                                                ;low
 224                         
 225  000000                                 EXTERN   I2C_CCRH.w    ; I2C Clock control register 
                                                                ;high
 226                         
 227  000000                                 EXTERN   I2C_TRISER.w  ; I2C TRISE register
 228                         
 229  000000                                 EXTERN   I2C_PECR.w    ; I2C packet error checking 
                                                                ;register
 230                         
 231                         ; LIN Universal asynch. receiver transmitter (UART2)
 232                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 233                         
 234  000000                                 EXTERN   UART2_SR.w    ; UART2 Status Register
 235                         
 236  000000                                 EXTERN   UART2_DR.w    ; UART2 Data Register
 237                         
 238  000000                                 EXTERN   UART2_BRR1.w  ; UART2 Baud Rate Register 1
 239                         
 240  000000                                 EXTERN   UART2_BRR2.w  ; UART2 Baud Rate Register 2
 241                         
 242  000000                                 EXTERN   UART2_CR1.w   ; UART2 Control Register 1
 243                         
 244  000000                                 EXTERN   UART2_CR2.w   ; UART2 Control Register 2
 245                         
 246  000000                                 EXTERN   UART2_CR3.w   ; UART2 Control Register 3
 247                         
 248  000000                                 EXTERN   UART2_CR4.w   ; UART2 Control Register 4
 249                         
 250  000000                                 EXTERN   UART2_CR5.w   ; UART2 Control Register 5
 251                         
 252  000000                                 EXTERN   UART2_CR6.w   ; UART2 Control Register 6
 253                         
 254  000000                                 EXTERN   UART2_GTR.w   ; UART2 Guard time Register
 255                         
 256  000000                                 EXTERN   UART2_PSCR.w  ; UART2 Prescaler Register
 257                         
 258                         ; 16-Bit Timer 1 (TIM1)
 259                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 260                         
 261  000000                                 EXTERN   TIM1_CR1.w    ; TIM1 Control register 1
 262                         
 263  000000                                 EXTERN   TIM1_CR2.w    ; TIM1 Control register 2
 264                         
 265  000000                                 EXTERN   TIM1_SMCR.w   ; TIM1 Slave Mode Control 
                                                                ;register
 266                         
 267  000000                                 EXTERN   TIM1_ETR.w    ; TIM1 external trigger 
                                                                ;register
 268                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 13  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 269  000000                                 EXTERN   TIM1_IER.w    ; TIM1 Interrupt enable 
                                                                ;register
 270                         
 271  000000                                 EXTERN   TIM1_SR1.w    ; TIM1 Status register 1
 272                         
 273  000000                                 EXTERN   TIM1_SR2.w    ; TIM1 Status register 2
 274                         
 275  000000                                 EXTERN   TIM1_EGR.w    ; TIM1 Event Generation 
                                                                ;register
 276                         
 277  000000                                 EXTERN   TIM1_CCMR1.w  ; TIM1 Capture/Compare mode 
                                                                ;register 1
 278                         
 279  000000                                 EXTERN   TIM1_CCMR2.w  ; TIM1 Capture/Compare mode 
                                                                ;register 2
 280                         
 281  000000                                 EXTERN   TIM1_CCMR3.w  ; TIM1 Capture/Compare mode 
                                                                ;register 3
 282                         
 283  000000                                 EXTERN   TIM1_CCMR4.w  ; TIM1 Capture/Compare mode 
                                                                ;register 4
 284                         
 285  000000                                 EXTERN   TIM1_CCER1.w  ; TIM1 Capture/Compare enable 
                                                                ;register 1
 286                         
 287  000000                                 EXTERN   TIM1_CCER2.w  ; TIM1 Capture/Compare enable 
                                                                ;register 2
 288                         
 289  000000                                 EXTERN   TIM1_CNTRH.w  ; Data bits High
 290                         
 291  000000                                 EXTERN   TIM1_CNTRL.w  ; Data bits Low
 292                         
 293  000000                                 EXTERN   TIM1_PSCRH.w  ; Data bits High
 294                         
 295  000000                                 EXTERN   TIM1_PSCRL.w  ; Data bits Low
 296                         
 297  000000                                 EXTERN   TIM1_ARRH.w   ; Data bits High
 298                         
 299  000000                                 EXTERN   TIM1_ARRL.w   ; Data bits Low
 300                         
 301  000000                                 EXTERN   TIM1_RCR.w    ; TIM1 Repetition counter 
                                                                ;register
 302                         
 303  000000                                 EXTERN   TIM1_CCR1H.w  ; Data bits High
 304                         
 305  000000                                 EXTERN   TIM1_CCR1L.w  ; Data bits Low
 306                         
 307  000000                                 EXTERN   TIM1_CCR2H.w  ; Data bits High
 308                         
 309  000000                                 EXTERN   TIM1_CCR2L.w  ; Data bits Low
 310                         
 311  000000                                 EXTERN   TIM1_CCR3H.w  ; Data bits High
 312                         
 313  000000                                 EXTERN   TIM1_CCR3L.w  ; Data bits Low
 314                         
 315  000000                                 EXTERN   TIM1_CCR4H.w  ; Data bits High
 316                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 14  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 317  000000                                 EXTERN   TIM1_CCR4L.w  ; Data bits Low
 318                         
 319  000000                                 EXTERN   TIM1_BKR.w    ; TIM1 Break register
 320                         
 321  000000                                 EXTERN   TIM1_DTR.w    ; TIM1 Dead-time register
 322                         
 323  000000                                 EXTERN   TIM1_OISR.w   ; TIM1 Output idle state 
                                                                ;register
 324                         
 325                         ; 16-Bit Timer 2 (TIM2)
 326                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 327                         
 328  000000                                 EXTERN   TIM2_CR1.w    ; TIM2 Control register 1
 329                         
 330  000000                                 EXTERN   TIM2_IER.w    ; TIM2 Interrupt enable 
                                                                ;register
 331                         
 332  000000                                 EXTERN   TIM2_SR1.w    ; TIM2 Status register 1
 333                         
 334  000000                                 EXTERN   TIM2_SR2.w    ; TIM2 Status register 2
 335                         
 336  000000                                 EXTERN   TIM2_EGR.w    ; TIM2 Event Generation 
                                                                ;register
 337                         
 338  000000                                 EXTERN   TIM2_CCMR1.w  ; TIM2 Capture/Compare mode 
                                                                ;register 1
 339                         
 340  000000                                 EXTERN   TIM2_CCMR2.w  ; TIM2 Capture/Compare mode 
                                                                ;register 2
 341                         
 342  000000                                 EXTERN   TIM2_CCMR3.w  ; TIM2 Capture/Compare mode 
                                                                ;register 3
 343                         
 344  000000                                 EXTERN   TIM2_CCER1.w  ; TIM2 Capture/Compare enable 
                                                                ;register 1
 345                         
 346  000000                                 EXTERN   TIM2_CCER2.w  ; TIM2 Capture/Compare enable 
                                                                ;register 2
 347                         
 348  000000                                 EXTERN   TIM2_CNTRH.w  ; Data bits High
 349                         
 350  000000                                 EXTERN   TIM2_CNTRL.w  ; Data bits Low
 351                         
 352  000000                                 EXTERN   TIM2_PSCR.w   ; TIM2 Prescaler register
 353                         
 354  000000                                 EXTERN   TIM2_ARRH.w   ; Data bits High
 355                         
 356  000000                                 EXTERN   TIM2_ARRL.w   ; Data bits Low
 357                         
 358  000000                                 EXTERN   TIM2_CCR1H.w  ; Data bits High
 359                         
 360  000000                                 EXTERN   TIM2_CCR1L.w  ; Data bits Low
 361                         
 362  000000                                 EXTERN   TIM2_CCR2H.w  ; Data bits High
 363                         
 364  000000                                 EXTERN   TIM2_CCR2L.w  ; Data bits Low
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 15  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 365                         
 366  000000                                 EXTERN   TIM2_CCR3H.w  ; Data bits High
 367                         
 368  000000                                 EXTERN   TIM2_CCR3L.w  ; Data bits Low
 369                         
 370                         ; 16-Bit Timer 3 (TIM3)
 371                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 372                         
 373  000000                                 EXTERN   TIM3_CR1.w    ; TIM3 Control register 1
 374                         
 375  000000                                 EXTERN   TIM3_IER.w    ; TIM3 Interrupt enable 
                                                                ;register
 376                         
 377  000000                                 EXTERN   TIM3_SR1.w    ; TIM3 Status register 1
 378                         
 379  000000                                 EXTERN   TIM3_SR2.w    ; TIM3 Status register 2
 380                         
 381  000000                                 EXTERN   TIM3_EGR.w    ; TIM3 Event Generation 
                                                                ;register
 382                         
 383  000000                                 EXTERN   TIM3_CCMR1.w  ; TIM3 Capture/Compare mode 
                                                                ;register 1
 384                         
 385  000000                                 EXTERN   TIM3_CCMR2.w  ; TIM3 Capture/Compare mode 
                                                                ;register 2
 386                         
 387  000000                                 EXTERN   TIM3_CCER1.w  ; TIM3 Capture/Compare enable 
                                                                ;register 1
 388                         
 389  000000                                 EXTERN   TIM3_CNTRH.w  ; Data bits High
 390                         
 391  000000                                 EXTERN   TIM3_CNTRL.w  ; Data bits Low
 392                         
 393  000000                                 EXTERN   TIM3_PSCR.w   ; TIM3 Prescaler register
 394                         
 395  000000                                 EXTERN   TIM3_ARRH.w   ; Data bits High
 396                         
 397  000000                                 EXTERN   TIM3_ARRL.w   ; Data bits Low
 398                         
 399  000000                                 EXTERN   TIM3_CCR1H.w  ; Data bits High
 400                         
 401  000000                                 EXTERN   TIM3_CCR1L.w  ; Data bits Low
 402                         
 403  000000                                 EXTERN   TIM3_CCR2H.w  ; Data bits High
 404                         
 405  000000                                 EXTERN   TIM3_CCR2L.w  ; Data bits Low
 406                         
 407                         ; 8-Bit  Timer 4 (TIM4)
 408                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 409                         
 410  000000                                 EXTERN   TIM4_CR1.w    ; TIM4 Control register 1
 411                         
 412  000000                                 EXTERN   TIM4_IER.w    ; TIM4 Interrupt enable 
                                                                ;register
 413                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 16  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 414  000000                                 EXTERN   TIM4_SR.w     ; TIM4 Status register
 415                         
 416  000000                                 EXTERN   TIM4_EGR.w    ; TIM4 Event Generation 
                                                                ;register
 417                         
 418  000000                                 EXTERN   TIM4_CNTR.w   ; TIM4 Counter
 419                         
 420  000000                                 EXTERN   TIM4_PSCR.w   ; TIM4 Prescaler register
 421                         
 422  000000                                 EXTERN   TIM4_ARR.w    ; TIM4 Auto-reload register
 423                         
 424                         ; 10-Bit A/D Converter (ADC1)
 425                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 426                         
 427  000000                                 EXTERN   ADC_DB0RH.w   ; Data Buffer register 0 High
 428                         
 429  000000                                 EXTERN   ADC_DB0RL.w   ; Data Buffer register 0 Low
 430                         
 431  000000                                 EXTERN   ADC_DB1RH.w   ; Data Buffer register 1 High
 432                         
 433  000000                                 EXTERN   ADC_DB1RL.w   ; Data Buffer register 1 Low
 434                         
 435  000000                                 EXTERN   ADC_DB2RH.w   ; Data Buffer register 2 High
 436                         
 437  000000                                 EXTERN   ADC_DB2RL.w   ; Data Buffer register 2 Low
 438                         
 439  000000                                 EXTERN   ADC_DB3RH.w   ; Data Buffer register 3 High
 440                         
 441  000000                                 EXTERN   ADC_DB3RL.w   ; Data Buffer register 3 Low
 442                         
 443  000000                                 EXTERN   ADC_DB4RH.w   ; Data Buffer register 4 High
 444                         
 445  000000                                 EXTERN   ADC_DB4RL.w   ; Data Buffer register 4 Low
 446                         
 447  000000                                 EXTERN   ADC_DB5RH.w   ; Data Buffer register 5 High
 448                         
 449  000000                                 EXTERN   ADC_DB5RL.w   ; Data Buffer register 5 Low
 450                         
 451  000000                                 EXTERN   ADC_DB6RH.w   ; Data Buffer register 6 High
 452                         
 453  000000                                 EXTERN   ADC_DB6RL.w   ; Data Buffer register 6 Low
 454                         
 455  000000                                 EXTERN   ADC_DB7RH.w   ; Data Buffer register 7 High
 456                         
 457  000000                                 EXTERN   ADC_DB7RL.w   ; Data Buffer register 7 Low
 458                         
 459  000000                                 EXTERN   ADC_DB8RH.w   ; Data Buffer register 8 High
 460                         
 461  000000                                 EXTERN   ADC_DB8RL.w   ; Data Buffer register 8 Low
 462                         
 463  000000                                 EXTERN   ADC_DB9RH.w   ; Data Buffer register 9 High
 464                         
 465  000000                                 EXTERN   ADC_DB9RL.w   ; Data Buffer register 9 Low
 466                         
 467  000000                                 EXTERN   ADC_CSR.w     ; ADC Control/Status Register
 468                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 17  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 469  000000                                 EXTERN   ADC_CR1.w     ; ADC Configuration Register 1
 470                         
 471  000000                                 EXTERN   ADC_CR2.w     ; ADC Configuration Register 2
 472                         
 473  000000                                 EXTERN   ADC_CR3.w     ; ADC Configuration Register 3
 474                         
 475  000000                                 EXTERN   ADC_DRH.w     ; Data bits High
 476                         
 477  000000                                 EXTERN   ADC_DRL.w     ; Data bits Low
 478                         
 479  000000                                 EXTERN   ADC_TDRH.w    ; Schmitt trigger disable High
 480                         
 481  000000                                 EXTERN   ADC_TDRL.w    ; Schmitt trigger disable Low
 482                         
 483  000000                                 EXTERN   ADC_HTRH.w    ; High Threshold Register High
 484                         
 485  000000                                 EXTERN   ADC_HTRL.w    ; High Threshold Register Low
 486                         
 487  000000                                 EXTERN   ADC_LTRH.w    ; Low Threshold Register High
 488                         
 489  000000                                 EXTERN   ADC_LTRL.w    ; Low Threshold Register Low
 490                         
 491  000000                                 EXTERN   ADC_AWSRH.w   ; Analog Watchdog Status 
                                                                ;register High
 492                         
 493  000000                                 EXTERN   ADC_AWSRL.w   ; Analog Watchdog Status 
                                                                ;register Low
 494                         
 495  000000                                 EXTERN   ADC_AWCRH.w   ; Analog Watchdog Control 
                                                                ;register High
 496                         
 497  000000                                 EXTERN   ADC_AWCRL.w   ; Analog Watchdog Control 
                                                                ;register Low
 498                         
 499                         ;  Global configuration register (CFG)
 500                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 501                         
 502  000000                                 EXTERN   CFG_GCR.w     ; CFG Global configuration 
                                                                ;register
 503                         
 504                         ; Interrupt Software Priority Register (ITC)
 505                         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                               ;;;;;;
 506                         
 507  000000                                 EXTERN   ITC_SPR1.w    ; Interrupt Software priority 
                                                                ;register 1
 508                         
 509  000000                                 EXTERN   ITC_SPR2.w    ; Interrupt Software priority 
                                                                ;register 2
 510                         
 511  000000                                 EXTERN   ITC_SPR3.w    ; Interrupt Software priority 
                                                                ;register 3
 512                         
 513  000000                                 EXTERN   ITC_SPR4.w    ; Interrupt Software priority 
                                                                ;register 4
 514                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 18  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 515  000000                                 EXTERN   ITC_SPR5.w    ; Interrupt Software priority 
                                                                ;register 5
 516                         
 517  000000                                 EXTERN   ITC_SPR6.w    ; Interrupt Software priority 
                                                                ;register 6
 518                         
 519  000000                                 EXTERN   ITC_SPR7.w    ; Interrupt Software priority 
                                                                ;register 7
 520                         
 521  000000                                 #endif                 ; __STM8S105K__
<END_OF_INCLUSION>
   6                                   
   7  000000                                 #ENDIF   
   8                         
   9                         
<END_OF_INCLUSION>
   0  000000                                 #include "GlobalVar.inc"
   1                         
   2  000000                                 #IFDEF   1
   3                                   
   4  000000                                 #ELSE    
 314                                   
 315                                   
<END_OF_INCLUSION>
   0  000000                                 #include "MacroFunction.inc"
   1                         
   2                                   
   3                                   
   4  000000                                 #IFDEF   1
   5                                   
   6  000000                                 #ELSE    
 103                                   
 104                                   
 105                                   
 106                                   
 107                                   
 108                                   
 109                                   
 110                                   
<END_OF_INCLUSION>
   0  000000                                 #include "Common.inc"
   1                                   
   2  000000                                 #IFDEF   1
   3                                   
   4  000000                                 #ELSE    
  20                                   
  21                                   
<END_OF_INCLUSION>
  11                                   
  12                         
  13                                                          ;#define LCD_OE PB_ODR,#3
  14  000000                                 #define  LCD_RS PB_ODR,#5
  15  000000                                 #define  LCD_RW PB_ODR,#4
  16  000000                                 #define  LCD_E PB_ODR,#3
  17  000000                                 #define  LCD_SER PD_ODR,#2
  18  000000                                 #define  LCD_SRCLK PD_ODR,#5
  19  000000                                 #define  LCD_RCK PD_ODR,#3
  20                                   
  21                                   
  22  000000                                 #define  CHAR_I 0
  23  000000                                 #define  CHAR_I_R 1
  24  000000                                 #define  CHAR_II 2
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 19  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  25  000000                                 #define  CHAR_II_R 3
  26  000000                                 #define  CHAR_III 4
  27  000000                                 #define  CHAR_III_R 5
  28                                   
  29                                                          ;#define LCD_OE PB_ODR,#0
  30                                   
  31                                   
  32  000000                                 #define  LCD_CMD_INIT #00111000B
  33                                                          ;   enable display, no cursor, 
                                                                ;no twinkle
  34  000000                                 #define  LCD_CMD_ON #00001100B
  35                                                          ;   disable display, no cursor, 
                                                                ;no twinkle
  36  000000                                 #define  LCD_CMD_OFF #0000000B
  37  000000                                 #define  LCD_CMD_CLEAR #01H
  38  000000                                 #define  LCD_CMD_FOSC_ON #00001101B
  39  000000                                 #define  LCD_CMD_FOSC_OFF #00001100B
  40                                   
  41                                   
  42                                   
  43  000000                                 EXTERN   LCD_Init.W
  44  000000                                 EXTERN   LCD_WriChar.W
  45  000000                                 EXTERN   LCD_WriCMD.W
  46  000000                                 EXTERN   LCD_WriData.W
  47  000000                                 EXTERN   LCD_SerData.W
  48  000000                                 EXTERN   LCD_WriString.W
  49  000000                                 EXTERN   LCD_SetCursor.W
  50  000000                                 EXTERN   LCD_InitCustom.W
  51                                                          ;EXTERN LCD_ClearLine.W
  52                                   
  53  000000                                 EXTERN   EMPTY_LINE.W
  54                         ;
  55                         ;
  56                         ;
  57                         ;
  58  000000                                 #ENDIF   
  59                                   
  60                                   
  61                         
  62                                   
  63                                   
  64                                   
  65                                   
  66                                   
  67                                   
  68                                   
  69                         
  70                         
<END_OF_INCLUSION>
  10                                   
   0  000000                                 #include "GlobalVar.inc"
   1                         
   2  000000                                 #IFDEF   1
   3                                   
   4  000000                                 #ELSE    
 314                                   
 315                                   
<END_OF_INCLUSION>
   0  000000                                 #include "Common.inc"
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 20  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

   1                                   
   2  000000                                 #IFDEF   1
   3                                   
   4  000000                                 #ELSE    
  20                                   
  21                                   
<END_OF_INCLUSION>
  13                                   
  14                         ;***********************************************************
  15                         ;name   :(void)
  16                         ;          PrintChar (cor_x: x,
  17                         ;                     cor_y: y,
  18                         ;                     _char: char)
  19                         ;fun    : print char to LCD
  20                         ;***********************************************************
  21  000000                       PrintChar  MACRO    cor_x,cor_y,_char
  22                                   mov      LCD_VAR0, cor_x
  23                                   mov      LCD_VAR1, cor_y
  24                                   mov      LCD_VAR2, _char
  25                                   call     LCD_WriChar
  26  000000                                 MEND     
  27                         
  28                         ;***********************************************************
  29                         ;name   :(void)
  30                         ;          LCD_ClearLine (line: _line)
  31                         ;fun    : print char to LCD
  32                         ;***********************************************************
  33  000000                       LCD_ClearLine  MACRO    _line
  34                                   PrintStr #0, #{_line+1}, #EMPTY_LINE
  35  000000                                 MEND     
  36                         
  37                         
  38                         ;***********************************************************
  39                         ;name   :(void)
  40                         ;          LCD_Scmd (_cmd: cmd)
  41                         ;fun    : print char to LCD
  42                         ;***********************************************************
  43  000000                       LCD_SCmd  MACRO    _cmd
  44                                   ld       A, _cmd
  45                                   call     LCD_WriCMD
  46  000000                                 MEND     
  47                                   
  48                         ;***********************************************************
  49                         ;name   :(void)
  50                         ;          LCD_SetCursor (_cmd: cmd)
  51                         ;fun    : print char to LCD
  52                         ;***********************************************************
  53  000000                       LCD_SetCursor_Macro  MACRO    _x,_y
  54                                   mov      LCD_VAR0, _x
  55                                   mov      LCD_VAR1, _y
  56                                   call     LCD_SetCursor
  57  000000                                 MEND     
  58                         
  59                                   
  60                         ;***********************************************************
  61                         ;name   :(void)
  62                         ;          LCD_Clear ()
  63                         ;fun    : clear LCD
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 21  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  64                         ;***********************************************************
  65  000000                       LCD_Clear  MACRO    
  66                                   ld       A, #01H
  67                                   call     LCD_WriCMD
  68  000000                                 MEND     
  69                         
  70                         ;***********************************************************
  71                         ;name   :(void)
  72                         ;          PrintStr (start_x: start_x,
  73                         ;                    start_y: start_y,
  74                         ;                    str_ptr.W: str_ptr)
  75                         ;fun    : print char to LCD,
  76                         ;         string end with 0
  77                         ;***********************************************************
  78  000000                       PrintStr  MACRO    start_x,start_y,str_ptr
  79                                   pushw    X
  80                                   mov      LCD_VAR0, start_x
  81                                   mov      LCD_VAR1, start_y
  82                                   ldw      X, str_ptr
  83                                   call     LCD_WriString
  84                                   popw     X
  85  000000                                 MEND     
  86                         
  87                         ;***********************************************************
  88                         ;name   : (Quotient: X, Remainder: Y)
  89                         ;           ADC_Convert (X: _divisor)
  90                         ;fun    : divide from [NET_ADC2:NET_ADC1:NET_ADC0]
  91                         ;***********************************************************
  92  000000                       ADC_Convert  MACRO    _divisor
  93                                   ldw      X, _divisor
  94                                   call     MassDivider
  95  000000                                 MEND     
  96                         
  97                         
  98                         
  99                         
 100                         
 101                                   
 102  000000                                 #ENDIF   
 103                                   
 104                                   
 105                                   
 106                                   
 107                                   
 108                                   
 109                                   
 110                                   
<END_OF_INCLUSION>
  11                                                          ;#include "LCD.inc"
   0  000000                                 #include "Key.inc"
   1                         
   2  000000 U                               #IFDEF   __KEY_
   5  000000                                 #define  __KEY_ 1
   6                         
   7  000000                                 #define  KEY_ZERO PB_IDR,#0
   8  000000                                 #define  KEY_ARRAY PE_IDR,#5
   9                                   
  10  000000                                 #define  KEY_ROW1 PC_ODR,#7
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 22  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  11  000000                                 #define  KEY_ROW2 PC_ODR,#6
  12  000000                                 #define  KEY_ROW3 PC_ODR,#5
  13  000000                                 #define  KEY_ROW4 PC_ODR,#4
  14                                   
  15  000000                                 #define  KEY_COL1 PC_IDR,#3
  16  000000                                 #define  KEY_COL2 PC_IDR,#2
  17  000000                                 #define  KEY_COL3 PC_IDR,#1
  18                                   
  19  000000                                 #define  KEY_NUM_DOT 0FEH
  20                                   
  21                                   
  22                         
  23  000000                                 EXTERN   KeyZero_Init.W
  24  000000                                 EXTERN   KeyZero_Handler.L
  25                                   
  26  000000                                 EXTERN   KeyArray_Init.W
  27  000000                                 EXTERN   KeyArray_Scan.W
  28  000000                                 EXTERN   KeyArray_Handler.L
  29  000000                                 EXTERN   KeyArray_Settle.W
  30  000000                                 EXTERN   KeyArray_Display.W
  31  000000                                 EXTERN   TypingCursorFlash.W
  32  000000                                 EXTERN   PriceAlign.W
  33  000000                                 EXTERN   MoneyHandle.W
  34  000000                                 EXTERN   Cal_Money.W
  35                                   
  36  000000                                 #ENDIF   
<END_OF_INCLUSION>
   0  000000                                 #include "Beeper.inc"
   1                                   
   2  000000 U                               #IFDEF   __BEEPER_
   5                                   
   6  000000                                 #define  __BEEPER_ 1
   0  000000                                 #include "stm8s105k4.inc"
   1                         ; STM8S105K4.inc
   2  000000                                 #IFDEF   1
   3  000000                                 #ELSE    
   8                         
   9                         
<END_OF_INCLUSION>
   0  000000                                 #include "GlobalVar.inc"
   1                         
   2  000000                                 #IFDEF   1
   3                                   
   4  000000                                 #ELSE    
 314                                   
 315                                   
<END_OF_INCLUSION>
   9                                   
  10  000000                                 EXTERN   ThresholdCheck.W
  11                                   
  12  000000                                 #ENDIF   
  13                                   
<END_OF_INCLUSION>
  14                                   
  15  000000                                 #define  ADC_MOVING_NUM 18
  16  000000                                 #define  ADC_MOVING_BYTE 3
  17                                   
  18                                   
  19                                   
  20  000000                                 EXTERN   ADC_Add_Sum.W
  21  000000                                 EXTERN   ADC_Sub_Sum.W
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 23  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  22                                   
  23                                   
  24                                   
  25  000000                                 EXTERN   ADC_Moving_Avg.W
  26  000000                                 EXTERN   ADC_Convert_Mass.W
  27  000000                                 EXTERN   ADC_Find_Max.W
  28  000000                                 EXTERN   ADC_Find_Min.W
  29                                   
  30                                   
  31  000000                                 #ENDIF   
  32                                   
  33                                   
  34                                   
<END_OF_INCLUSION>
   4                         
   5                         
   6  000000                                 INTEL    
   7                                   segment  'rom'
   8                         
   9                         
  10                         ;***********************************************************
  11                         ;name   : ADC_Sub_Sum
  12                         ;fun    : 
  13                         ;params :
  14                         ;           IN  : X = ADC_STORE + ADC_PTR(NEXT|MAX|MIN)
  15                         ;           OUT : NULL
  16                         ;***********************************************************
  17                         .ADC_Sub_Sum.W  
  18  008BC1   8A                            push     CC
  19  008BC2   88                            push     A
  20                                   
  21                                                          ; ADC_SUM(7-0) 1st byte
  22  008BC3   B607                          ld       A, ADC_SUM0
  23  008BC5   E002                          sub      A, (2,X)
  24  008BC7   8A                            push     CC
  25  008BC8   B707                          ld       ADC_SUM0, A
  26                                                          ; ADC_SUM(15-8) 2nd byte
  27  008BCA   B606                          ld       A, ADC_SUM1
  28  008BCC   86                            pop      CC
  29  008BCD   E201                          sbc      A, (1,X)
  30  008BCF   8A                            push     CC
  31  008BD0   B706                          ld       ADC_SUM1, A
  32                                                          ; ADC_SUM(23-16) 3rd byte
  33  008BD2   B605                          ld       A, ADC_SUM2
  34  008BD4   86                            pop      CC
  35  008BD5   F2                            sbc      A, (X)
  36  008BD6   8A                            push     CC
  37  008BD7   B705                          ld       ADC_SUM2, A
  38                                                          ; ADC_SUM(31-24) take borrow
  39  008BD9   B604                          ld       A, ADC_SUM3
  40  008BDB   86                            pop      CC
  41  008BDC   A200                          sbc      A, #0
  42  008BDE   B704                          ld       ADC_SUM3, A
  43                                   
  44  008BE0   84                            pop      A
  45  008BE1   86                            pop      CC
  46  008BE2   81                            ret      
  47                                   
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 24  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

  48                         ;***********************************************************
  49                         ;name   : ADC_Add_Sum
  50                         ;fun    : 
  51                         ;params :
  52                         ;           IN  : X = ADC_STORE + ADC_PTR(NEXT|MAX|MIN)
  53                         ;           OUT : NULL
  54                         ;***********************************************************
  55                         .ADC_Add_Sum.W  
  56  008BE3   8A                            push     CC
  57  008BE4   88                            push     A
  58                                                          ; ADC_SUM(7-0) 1st byte
  59  008BE5   B607                          ld       A, ADC_SUM0
  60  008BE7   EB02                          add      A, (2,X)
  61  008BE9   8A                            push     CC
  62  008BEA   B707                          ld       ADC_SUM0, A
  63                                                          ; ADC_SUM(15-8) 2nd byte
  64  008BEC   B606                          ld       A, ADC_SUM1
  65  008BEE   86                            pop      CC
  66  008BEF   E901                          adc      A, (1,X)
  67  008BF1   8A                            push     CC
  68  008BF2   B706                          ld       ADC_SUM1, A
  69                                                          ; ADC_SUM(23-16) 3rd byte
  70  008BF4   B605                          ld       A, ADC_SUM2
  71  008BF6   86                            pop      CC
  72  008BF7   F9                            adc      A, (X)
  73  008BF8   8A                            push     CC
  74  008BF9   B705                          ld       ADC_SUM2, A
  75                                                          ; ADC_SUM(31-24) take carry
  76  008BFB   B604                          ld       A, ADC_SUM3
  77  008BFD   86                            pop      CC
  78  008BFE   A900                          adc      A, #0
  79  008C00   B704                          ld       ADC_SUM3, A
  80                         
  81  008C02   84                            pop      A
  82  008C03   86                            pop      CC
  83                         
  84  008C04   81                            ret      
  85                         
  86                         
  87                         ;***********************************************************
  88                         ;name   : ADC_Moving_Avg
  89                         ;fun    : calculate the moving average, after remove
  90                         ;           the polar value
  91                         ;caution: the method of the function just compares
  92                         ;           the high 2 bytes, so not exactly removing
  93                         ;           the two polar values, but enough to smooth ADC.
  94                         ;params :
  95                         ;           IN  : ADC_STORE, ADC_SUM
  96                         ;           OUT : ADC_SUM, ADC_AVG
  97                         ;***********************************************************
  98                         .ADC_Moving_Avg.W  
  99  008C05   8A                            push     CC
 100  008C06   88                            push     A
 101  008C07   89                            pushw    X
 102  008C08   9089                          pushw    Y
 103                                   
 104                                   
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 25  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 105  008C0A   3F04                          clr      ADC_SUM3
 106  008C0C   3F05                          clr      ADC_SUM2
 107  008C0E   3F06                          clr      ADC_SUM1
 108  008C10   3F07                          clr      ADC_SUM0
 109                         
 110  008C12   A612                          ld       A, #18
 111  008C14   AE000C                        ldw      X, #ADC_STORE
 112                         accumulation_start:  
 113  008C17   CD8BE3                        call     ADC_Add_Sum
 114  008C1A   1C0003                        addw     X, #3
 115  008C1D   4A                            dec      A
 116  008C1E   26F7                          jrne     accumulation_start
 117                                   
 118                                   
 119                         remove_polar_value:  
 120  008C20   CD8C4C                        call     ADC_Find_Max
 121                                                          ; X => max data
 122  008C23   CD8BC1                        call     ADC_Sub_Sum
 123                                   
 124  008C26   CD8C72                        call     ADC_Find_Min
 125                                                          ; X => min data
 126  008C29   CD8BC1                        call     ADC_Sub_Sum
 127                                   
 128                         
 129                                                          ;---------------- averaging 
                                                                ;-----------------
 130                                                          ; X : high 16bits
 131                                                          ; Y : low  16bits
 132  008C2C   BE04                          ldw      X, {ADC_SUM+0}
 133  008C2E   90BE06                        ldw      Y, {ADC_SUM+2}
 134                                                          ; divide by 16
 135  008C31   98                            rcf      
 136  008C32   56                            rrcw     X
 137  008C33   9056                          rrcw     Y
 138  008C35   98                            rcf      
 139  008C36   56                            rrcw     X
 140  008C37   9056                          rrcw     Y
 141  008C39   98                            rcf      
 142  008C3A   56                            rrcw     X
 143  008C3B   9056                          rrcw     Y
 144  008C3D   98                            rcf      
 145  008C3E   56                            rrcw     X
 146  008C3F   9056                          rrcw     Y
 147                         
 148                         
 149  008C41   BF08                          ldw      {ADC_AVG+0}, X
 150  008C43   90BF0A                        ldw      {ADC_AVG+2}, Y
 151                         
 152  008C46   9085                          popw     Y
 153  008C48   85                            popw     X
 154  008C49   84                            pop      A
 155  008C4A   86                            pop      CC
 156  008C4B   81                            ret      
 157                         
 158                         ;***********************************************************
 159                         ;name   : ADC_Find_Max
 160                         ;fun    : roll back to find the max value
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 26  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 161                         ;params :
 162                         ;           IN  : 
 163                         ;           OUT : X => max data
 164                         ;***********************************************************
 165                         .ADC_Find_Max.W  
 166  008C4C   8A                            push     CC
 167  008C4D   9089                          pushw    Y
 168                         
 169                                   
 170  008C4F   AE000C                        ldw      X, #ADC_STORE
 171                         
 172  008C52   9093                          ldw      Y, X
 173                         find_max_loop:  
 174  008C54   72A90003                      addw     Y, #3
 175  008C58   90A30042                      cpw      Y, #{ADC_STORE+3*18}
 176  008C5C   2710                          jreq     find_max_end
 177  008C5E   9089                          pushw    Y
 178  008C60   90FE                          ldw      Y, (Y)
 179  008C62   F3                            cpw      Y, (X)
 180  008C63   2404                          jrnc     find_max_exchange
 181  008C65   9085                          popw     Y
 182  008C67   20EB                          jra      find_max_loop
 183                         find_max_exchange:  
 184  008C69   9085                          popw     Y
 185  008C6B   93                            ldw      X, Y
 186  008C6C   20E6                          jra      find_max_loop
 187                         
 188                         find_max_end:  
 189                         
 190                         
 191  008C6E   9085                          popw     Y
 192  008C70   86                            pop      CC
 193  008C71   81                            ret      
 194                         
 195                         
 196                         ;***********************************************************
 197                         ;name   : ADC_Find_Min
 198                         ;fun    : roll back to find the min value
 199                         ;params :
 200                         ;           IN  : 
 201                         ;           OUT : X => min data  (increment ptr)
 202                         ;***********************************************************
 203                         .ADC_Find_Min.W  
 204  008C72   8A                            push     CC
 205  008C73   9089                          pushw    Y
 206                                   
 207                         
 208  008C75   AE000C                        ldw      X, #ADC_STORE
 209                         
 210  008C78   9093                          ldw      Y, X
 211                         find_min_loop:  
 212  008C7A   72A90003                      addw     Y, #3
 213  008C7E   90A30042                      cpw      Y, #{ADC_STORE+3*18}
 214  008C82   2710                          jreq     find_min_end
 215  008C84   9089                          pushw    Y
 216  008C86   90FE                          ldw      Y, (Y)
 217  008C88   F3                            cpw      Y, (X)
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 27  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 218  008C89   2405                          jrnc     find_min_exchange
 219  008C8B   9085                          popw     Y
 220  008C8D   93                            ldw      X, Y
 221  008C8E   20EA                          jra      find_min_loop
 222                         find_min_exchange:  
 223  008C90   9085                          popw     Y
 224  008C92   20E6                          jra      find_min_loop
 225                         
 226                         find_min_end:  
 227                         
 228                         
 229                                   
 230  008C94   9085                          popw     Y
 231  008C96   86                            pop      CC
 232  008C97   81                            ret      
 233                         
 234                         
 235                         
 236                         
 237                         
 238                         
 239                                   
 240                         ;***********************************************************
 241                         ;name   : ADC_Convert_Mass
 242                         ;fun    : calculate the final mass of the thing
 243                         ;params : 
 244                         ;           IN  : ADC_AVG
 245                         ;           OUT : NET_ADC
 246                         ;***********************************************************
 247                         .ADC_Convert_Mass.W  
 248  008C98   8A                            push     CC
 249  008C99   89                            pushw    X
 250  008C9A   9089                          pushw    Y
 251  008C9C   88                            push     A
 252                                   
 253                                   
 254                                                          ; cal increment
 255  008C9D   B60B                          ld       A, ADC_AVG0
 256  008C9F   B082                          sub      A, ZERO_ADC0
 257  008CA1   8A                            push     CC
 258  008CA2   B786                          ld       NET_ADC0, A
 259                         
 260  008CA4   B60A                          ld       A, ADC_AVG1
 261  008CA6   86                            pop      CC
 262  008CA7   B281                          sbc      A, ZERO_ADC1
 263  008CA9   8A                            push     CC
 264  008CAA   B785                          ld       NET_ADC1, A
 265                         
 266  008CAC   B609                          ld       A, ADC_AVG2
 267  008CAE   86                            pop      CC
 268  008CAF   B280                          sbc      A, ZERO_ADC2
 269  008CB1   B784                          ld       NET_ADC2, A
 270                                   
 271  008CB3   35000083                      mov      NET_ADC3, #00H
 272                                   
 273                                   
 274                                                          ;call DispADC
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 28  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 275                                                          ; adc data to mass
 276  008CB7   458387                        mov      NET_BUF3, NET_ADC3
 277  008CBA   458488                        mov      NET_BUF2, NET_ADC2
 278  008CBD   458589                        mov      NET_BUF1, NET_ADC1
 279  008CC0   45868A                        mov      NET_BUF0, NET_ADC0
 280                                   
 281                                   
 282                                                          ;; make ADC_AVG be signed
 283  008CC3   720F008418                    btjf     NET_ADC2,#7,adc_pos
 284  008CC8   B684                          ld       A, NET_ADC2
 285  008CCA   A8FF                          xor      A, #0FFH
 286  008CCC   BE85                          ldw      X, NET_ADC1
 287  008CCE   50                            negw     X
 288  008CCF   8C                            ccf      
 289  008CD0   A900                          adc      A, #0
 290  008CD2   8A                            push     CC
 291  008CD3   BF85                          ldw      NET_ADC1, X
 292  008CD5   B784                          ld       NET_ADC2, A
 293  008CD7   B683                          ld       A, NET_ADC3
 294  008CD9   A8FF                          xor      A, #0FFH
 295  008CDB   86                            pop      CC
 296  008CDC   A900                          adc      A, #0
 297  008CDE   B783                          ld       NET_ADC3, A
 298                         adc_pos:  
 299                                   
 300                                   
 301                                   
 302                                                          ; in order to avoiding float 
                                                                ;operation, 
 303                                                          ; for accuracy ,so let NET_ADC *
                                                                ; 2^8 , 
 304                                                          ; eventually the slope and the 
                                                                ;remainder
 305                                                          ;   will times 2^8.
 306                                                          ; -------------------------
 307                         
 308  008CE0   458483                        mov      NET_ADC3, NET_ADC2
 309  008CE3   458584                        mov      NET_ADC2, NET_ADC1
 310  008CE6   458685                        mov      NET_ADC1, NET_ADC0
 311  008CE9   35000086                      mov      NET_ADC0, #00
 312                         
 313  008CED   BE7D                          ldw      X, ADC_SLOPE
 314  008CEF   CD8A27                        call     MassDivider
 315                                   
 316  008CF2   CD8D74                        call     SaveMaxMass
 317                                   
 318  008CF5   CD8B9A                        call     ThresholdCheck
 319                                   
 320  008CF8   CD8D01                        call     MassHex2DecChar
 321                                   
 322                                                          ;PrintStr #0,#0,#STR_MASS
 323                                   
 324                                   
 325                                                          ;call PriceCursorFlash
 326  008CFB   84                            pop      A
 327  008CFC   9085                          popw     Y
 328  008CFE   85                            popw     X
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 29  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 329  008CFF   86                            pop      CC
 330                                   
 331  008D00   81                            ret      
 332                         
 333                         
 334                         ;***********************************************************
 335                         ;name   : MassHex2DecChar()
 336                         ;fun    : hexadecimal to decimal char
 337                         ;           X = 24bit / 16bit ; Y = 24bit % 16bit
 338                         ;params : 
 339                         ;         IN  : X   : quotient  (mass)
 340                         ;               Y   : remainder (mass)
 341                         ;         OUT : MASS_STR: MASS_CHAR7~0
 342                         ;***********************************************************
 343                         .MassHex2DecChar.W  
 344  008D01   8A                            push     CC
 345  008D02   88                            push     A
 346  008D03   9089                          pushw    Y
 347  008D05   89                            pushw    X
 348                                   
 349                                                          ; save weight quotient
 350  008D06   BF8B                          ldw      WEIGHT_QUOTIENT, X
 351                                   
 352                                   
 353  008D08   350600A8                      mov      CHAR_MASS9, #06H
 354                                   
 355  008D0C   350700B2                      mov      CHAR_MASS_1, #07H
 356                                   
 357  008D10   720E008804                    btjt     NET_BUF2,#7,mass_neg
 358  008D15   A620                          ld       A, #' '
 359  008D17   2002                          jra      mass_pos
 360                         mass_neg:  
 361  008D19   A62D                          ld       A, #'-'
 362                         mass_pos:  
 363  008D1B   B7A9                          ld       CHAR_MASS8, A
 364                                   
 365                                   
 366                                                          ; ----------
 367                                                          ; HIGH STACK
 368                                                          ;+4 YL - REMAINDER
 369                                                          ;+3 YH - REMAINDER
 370                                                          ;+2 XL - QUOTIENT
 371                                                          ;+1 XH - QUOTIENT
 372                                                          ; LOW  STACK
 373                                                          ; ----------
 374                                                          ; 10k
 375  008D1D   90AE2710                      ldw      Y, #10000
 376  008D21   65                            divw     X, Y
 377  008D22   9F                            ld       A, XL
 378  008D23   AB30                          add      A, #30H
 379  008D25   B7AA                          ld       CHAR_MASS7, A
 380                                                          ; 1k
 381  008D27   93                            ldw      X, Y
 382  008D28   90AE03E8                      ldw      Y, #1000
 383  008D2C   65                            divw     X, Y
 384  008D2D   9F                            ld       A, XL
 385  008D2E   AB30                          add      A, #30H
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 30  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 386  008D30   B7AB                          ld       CHAR_MASS6, A
 387                                                          ; 100
 388  008D32   93                            ldw      X, Y
 389  008D33   90AE0064                      ldw      Y, #100
 390  008D37   65                            divw     X, Y
 391  008D38   9F                            ld       A, XL
 392  008D39   AB30                          add      A, #30H
 393  008D3B   B7AC                          ld       CHAR_MASS5, A
 394                                                          ; 10
 395  008D3D   93                            ldw      X, Y
 396  008D3E   90AE000A                      ldw      Y, #10
 397  008D42   65                            divw     X, Y
 398  008D43   9F                            ld       A, XL
 399  008D44   AB30                          add      A, #30H
 400  008D46   B7AD                          ld       CHAR_MASS4, A
 401                                                          ; 1
 402  008D48   909F                          ld       A, YL
 403  008D4A   AB30                          add      A, #30H
 404  008D4C   B7AE                          ld       CHAR_MASS3, A
 405                                                          ; 0.1
 406                                                          ;  (remainder / slope) * 10 
 407                                                          ; = remainder / (slope / 10)
 408                                                          ; = remainder / (quotient + r)  
                                                                ;, (r < 1)
 409                                                          ; ~= remainder / quotient
 410  008D4E   BE7D                          ldw      X, ADC_SLOPE
 411  008D50   A60A                          ld       A, #10
 412  008D52   62                            div      X, A
 413                                   
 414                                                          ; ----------
 415                                                          ; HIGH STACK
 416                                                          ;+4 YL - REMAINDER
 417                                                          ;+3 YH - REMAINDER
 418                                                          ;+2 XL - QUOTIENT
 419                                                          ;+1 XH - QUOTIENT
 420                                                          ; LOW  STACK
 421                                                          ; ----------
 422  008D53   9093                          ldw      Y, X
 423  008D55   1E03                          ldw      X, (3,SP)     ; (3,SP) => Y: remainder
 424  008D57   65                            divw     X, Y
 425                                   
 426  008D58   9F                            ld       A, XL
 427  008D59   AB30                          add      A, #30H
 428  008D5B   B7B0                          ld       CHAR_MASS1, A
 429                                   
 430                                   
 431  008D5D   352E00AF                      mov      CHAR_MASS2, #'.'
 432  008D61   356700B1                      mov      CHAR_MASS0, #'g'
 433                                   
 434                                                          ; save weight fraction
 435  008D65   905F                          clrw     Y
 436  008D67   A030                          sub      A, #30H
 437  008D69   9097                          ld       YL, A
 438  008D6B   90BF8D                        ldw      WEIGHT_REMAINDER, Y
 439                                   
 440                                   
 441                         
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 31  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 442  008D6E   85                            popw     X
 443  008D6F   9085                          popw     Y
 444                                   
 445  008D71   84                            pop      A
 446  008D72   86                            pop      CC
 447                         
 448  008D73   81                            ret      
 449                         
 450                         
 451                         
 452                         
 453                         ;***********************************************************
 454                         ;name   : SaveMaxMass()
 455                         ;fun    : 
 456                         ;params : 
 457                         ;         IN  : X   : quotient  (mass)
 458                         ;               Y   : remainder (mass)
 459                         ;         OUT : ADC_MAX_QUOTIENT ; ADC_MAX_REMAINDER
 460                         ;               CHAR_MAX_MASS7~0
 461                         ;***********************************************************
 462                         .SaveMaxMass.W  
 463  008D74   8A                            push     CC
 464  008D75   88                            push     A
 465  008D76   89                            pushw    X
 466  008D77   9089                          pushw    Y
 467                         
 468                                                          ; if mass is negative , no need 
                                                                ;to compare
 469  008D79   720E00881A                    btjt     NET_BUF2,#7,savemax_handle_str_start
 470                                                          ; ----------
 471                                                          ; HIGH STACK
 472                                                          ;+4 XL - QUOTIENT
 473                                                          ;+3 XH - QUOTIENT
 474                                                          ;+2 YL - REMAINDER
 475                                                          ;+1 YH - REMAINDER
 476                                                          ; LOW  STACK
 477                                                          ; ----------
 478                         
 479                                                          ; compare quotient first
 480  008D7E   BE77                          ldw      X, ADC_MAX_QUOTIENT
 481  008D80   1303                          cpw      X, (3,SP)
 482  008D82   2402                          jrnc     savemax_less_or_equal_q 
 483                                                          ; > max(quotient)
 484                         
 485  008D84   200A                          jra      savemax_newmax_exit
 486                                   
 487                         savemax_less_or_equal_q:  
 488                                                          ; <= max(quotient)
 489                                                          ; if != max, exit
 490  008D86   2666                          jrne     savemax_exit
 491  008D88   BE79                          ldw      X, ADC_MAX_REMAINDER
 492  008D8A   1301                          cpw      X, (1,SP)
 493                                                          ;jrnc savemax_less_or_equal_r
 494  008D8C   2460                          jrnc     savemax_exit
 495                                                          ; > max(remainder)
 496  008D8E   2000                          jra      savemax_newmax_exit
 497                                   
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 32  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 498                         ;savemax_less_or_equal_r:
 499                                                          ; <= max(remainder)
 500                                                          ;jra savemax_exit
 501                                   
 502                         savemax_newmax_exit:  
 503  008D90   1E03                          ldw      X, (3,SP)
 504  008D92   BF77                          ldw      ADC_MAX_QUOTIENT, X
 505                                   
 506  008D94   1E01                          ldw      X, (1,SP)
 507  008D96   BF79                          ldw      ADC_MAX_REMAINDER, X
 508                                   
 509                         savemax_handle_str_start:  
 510                                                          ; ----------
 511                                                          ; HIGH STACK
 512                                                          ;+4 XL - QUOTIENT
 513                                                          ;+3 XH - QUOTIENT
 514                                                          ;+2 YL - REMAINDER
 515                                                          ;+1 YH - REMAINDER
 516                                                          ; LOW  STACK
 517                                                          ; ----------
 518                         
 519                                                          ; handle max mass str
 520                                                          ; 10k
 521  008D98   BE77                          ldw      X, ADC_MAX_QUOTIENT
 522                                   
 523  008D9A   90AE2710                      ldw      Y, #10000
 524  008D9E   65                            divw     X, Y
 525  008D9F   9F                            ld       A, XL
 526  008DA0   AB30                          add      A, #30H
 527  008DA2   B7CF                          ld       CHAR_MAX_MASS7, A
 528                                                          ; 1k
 529  008DA4   93                            ldw      X, Y
 530  008DA5   90AE03E8                      ldw      Y, #1000
 531  008DA9   65                            divw     X, Y
 532  008DAA   9F                            ld       A, XL
 533  008DAB   AB30                          add      A, #30H
 534  008DAD   B7D0                          ld       CHAR_MAX_MASS6, A
 535                                                          ; 100
 536  008DAF   93                            ldw      X, Y
 537  008DB0   90AE0064                      ldw      Y, #100
 538  008DB4   65                            divw     X, Y
 539  008DB5   9F                            ld       A, XL
 540  008DB6   AB30                          add      A, #30H
 541  008DB8   B7D1                          ld       CHAR_MAX_MASS5, A
 542                                                          ; 10
 543  008DBA   93                            ldw      X, Y
 544  008DBB   90AE000A                      ldw      Y, #10
 545  008DBF   65                            divw     X, Y
 546  008DC0   9F                            ld       A, XL
 547  008DC1   AB30                          add      A, #30H
 548  008DC3   B7D2                          ld       CHAR_MAX_MASS4, A
 549                                                          ; 1
 550  008DC5   909F                          ld       A, YL
 551  008DC7   AB30                          add      A, #30H
 552  008DC9   B7D3                          ld       CHAR_MAX_MASS3, A
 553                                                          ; 0.1
 554                                                          ;  (remainder / slope) * 10 
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 33  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

 555                                                          ; = remainder / (slope / 10)
 556                                                          ; = remainder / (quotient + r)  
                                                                ;, (r < 1)
 557                                                          ; ~= remainder / quotient
 558  008DCB   BE7D                          ldw      X, ADC_SLOPE
 559  008DCD   A60A                          ld       A, #10
 560  008DCF   62                            div      X, A
 561                                   
 562  008DD0   9093                          ldw      Y, X
 563  008DD2   BE79                          ldw      X, ADC_MAX_REMAINDER     ; (3,SP) => Y: remainder
 564  008DD4   65                            divw     X, Y
 565                                   
 566  008DD5   9F                            ld       A, XL
 567  008DD6   AB30                          add      A, #30H
 568  008DD8   B7D5                          ld       CHAR_MAX_MASS1, A
 569                                   
 570  008DDA   352E00D4                      mov      CHAR_MAX_MASS2, #'.'
 571  008DDE   356700D6                      mov      CHAR_MAX_MASS0, #'g'
 572                                   
 573                                                          ;mov CHAR_MAX_MASS11, #'m'
 574                                                          ;mov CHAR_MAX_MASS10, #'a'
 575  008DE2   354D00CD                      mov      CHAR_MAX_MASS9, #'M'
 576  008DE6   35A200CE                      mov      CHAR_MAX_MASS8, #0A2H
 577  008DEA   35A300D7                      mov      CHAR_MAX_MASS_1, #0A3H
 578                                   
 579                                   
 580                         
 581                         savemax_exit:  
 582                         
 583  008DEE   9085                          popw     Y
 584  008DF0   85                            popw     X
 585  008DF1   84                            pop      A
 586  008DF2   86                            pop      CC
 587  008DF3   81                            ret      
 588                         
 589                         
 590                         
 591                         
 592                         
 593                         
 594                         
 595                         
 596                         
 597                         
 598                         
 599                         
 600                         
 601  008DF4                                 end      
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 34  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

Symbol Name                       Value     Call       Type  Scope      Rel.  Line  Privacy  Segment   Size  Bytes File

ADC_Delay                             8A1A         no  WORD  Internal   ABS      9  private  text         0     0  e:\stm8s\electronic_scale\common.inc
ADC_COUNTER                             03         no  BYTE  Internal   ABS     12  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SUM                                 04         no  BYTE  Internal   ABS     16  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SUM0                                07         no  BYTE  Internal   ABS     17  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SUM1                                06         no  BYTE  Internal   ABS     18  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SUM2                                05         no  BYTE  Internal   ABS     19  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SUM3                                04         no  BYTE  Internal   ABS     20  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_AVG                                 08         no  BYTE  Internal   ABS     22  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_AVG0                                0B         no  BYTE  Internal   ABS     23  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_AVG1                                0A         no  BYTE  Internal   ABS     24  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_AVG2                                09         no  BYTE  Internal   ABS     25  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_AVG3                                08         no  BYTE  Internal   ABS     26  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_STORE                               0C         no  BYTE  Internal   ABS     28  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S00                                 0E         no  BYTE  Internal   ABS     30  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S01                                 0D         no  BYTE  Internal   ABS     31  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S02                                 0C         no  BYTE  Internal   ABS     32  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S10                                 11         no  BYTE  Internal   ABS     34  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S11                                 10         no  BYTE  Internal   ABS     35  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S12                                 0F         no  BYTE  Internal   ABS     36  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S20                                 14         no  BYTE  Internal   ABS     38  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S21                                 13         no  BYTE  Internal   ABS     39  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S22                                 12         no  BYTE  Internal   ABS     40  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S30                                 17         no  BYTE  Internal   ABS     42  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S31                                 16         no  BYTE  Internal   ABS     43  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S32                                 15         no  BYTE  Internal   ABS     44  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S40                                 1A         no  BYTE  Internal   ABS     46  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S41                                 19         no  BYTE  Internal   ABS     47  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S42                                 18         no  BYTE  Internal   ABS     48  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S50                                 1D         no  BYTE  Internal   ABS     50  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S51                                 1C         no  BYTE  Internal   ABS     51  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S52                                 1B         no  BYTE  Internal   ABS     52  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S60                                 20         no  BYTE  Internal   ABS     54  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S61                                 1F         no  BYTE  Internal   ABS     55  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S62                                 1E         no  BYTE  Internal   ABS     56  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S70                                 23         no  BYTE  Internal   ABS     58  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S71                                 22         no  BYTE  Internal   ABS     59  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S72                                 21         no  BYTE  Internal   ABS     60  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S80                                 26         no  BYTE  Internal   ABS     62  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S81                                 25         no  BYTE  Internal   ABS     63  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S82                                 24         no  BYTE  Internal   ABS     64  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S90                                 29         no  BYTE  Internal   ABS     66  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S91                                 28         no  BYTE  Internal   ABS     67  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_S92                                 27         no  BYTE  Internal   ABS     68  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SA0                                 2C         no  BYTE  Internal   ABS     70  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SA1                                 2B         no  BYTE  Internal   ABS     71  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SA2                                 2A         no  BYTE  Internal   ABS     72  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SB0                                 2F         no  BYTE  Internal   ABS     74  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SB1                                 2E         no  BYTE  Internal   ABS     75  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SB2                                 2D         no  BYTE  Internal   ABS     76  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SC0                                 32         no  BYTE  Internal   ABS     78  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SC1                                 31         no  BYTE  Internal   ABS     79  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SC2                                 30         no  BYTE  Internal   ABS     80  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SD0                                 35         no  BYTE  Internal   ABS     82  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SD1                                 34         no  BYTE  Internal   ABS     83  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SD2                                 33         no  BYTE  Internal   ABS     84  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 35  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

ADC_SE0                                 38         no  BYTE  Internal   ABS     86  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SE1                                 37         no  BYTE  Internal   ABS     87  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SE2                                 36         no  BYTE  Internal   ABS     88  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SF0                                 3B         no  BYTE  Internal   ABS     90  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SF1                                 3A         no  BYTE  Internal   ABS     91  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SF2                                 39         no  BYTE  Internal   ABS     92  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SG0                                 3E         no  BYTE  Internal   ABS     94  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SG1                                 3D         no  BYTE  Internal   ABS     95  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SG2                                 3C         no  BYTE  Internal   ABS     96  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SH0                                 41         no  BYTE  Internal   ABS     98  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SH1                                 40         no  BYTE  Internal   ABS     99  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SH2                                 3F         no  BYTE  Internal   ABS    100  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SI0                                 44         no  BYTE  Internal   ABS    102  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SI1                                 43         no  BYTE  Internal   ABS    103  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SI2                                 42         no  BYTE  Internal   ABS    104  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SJ0                                 47         no  BYTE  Internal   ABS    106  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SJ1                                 46         no  BYTE  Internal   ABS    107  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SJ2                                 45         no  BYTE  Internal   ABS    108  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SK0                                 4A         no  BYTE  Internal   ABS    110  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SK1                                 49         no  BYTE  Internal   ABS    111  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SK2                                 48         no  BYTE  Internal   ABS    112  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SL0                                 4D         no  BYTE  Internal   ABS    114  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SL1                                 4C         no  BYTE  Internal   ABS    115  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SL2                                 4B         no  BYTE  Internal   ABS    116  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SM0                                 50         no  BYTE  Internal   ABS    118  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SM1                                 4F         no  BYTE  Internal   ABS    119  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SM2                                 4E         no  BYTE  Internal   ABS    120  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SN0                                 53         no  BYTE  Internal   ABS    122  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SN1                                 52         no  BYTE  Internal   ABS    123  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SN2                                 51         no  BYTE  Internal   ABS    124  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SO0                                 56         no  BYTE  Internal   ABS    126  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SO1                                 55         no  BYTE  Internal   ABS    127  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SO2                                 54         no  BYTE  Internal   ABS    128  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SP0                                 59         no  BYTE  Internal   ABS    130  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SP1                                 58         no  BYTE  Internal   ABS    131  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SP2                                 57         no  BYTE  Internal   ABS    132  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SQ0                                 5C         no  BYTE  Internal   ABS    134  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SQ1                                 5B         no  BYTE  Internal   ABS    135  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SQ2                                 5A         no  BYTE  Internal   ABS    136  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SR0                                 5F         no  BYTE  Internal   ABS    138  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SR1                                 5E         no  BYTE  Internal   ABS    139  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SR2                                 5D         no  BYTE  Internal   ABS    140  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SS0                                 62         no  BYTE  Internal   ABS    142  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SS1                                 61         no  BYTE  Internal   ABS    143  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SS2                                 60         no  BYTE  Internal   ABS    144  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_ST0                                 65         no  BYTE  Internal   ABS    146  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_ST1                                 64         no  BYTE  Internal   ABS    147  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_ST2                                 63         no  BYTE  Internal   ABS    148  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SU0                                 68         no  BYTE  Internal   ABS    150  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SU1                                 67         no  BYTE  Internal   ABS    151  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SU2                                 66         no  BYTE  Internal   ABS    152  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SV0                                 6B         no  BYTE  Internal   ABS    154  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SV1                                 6A         no  BYTE  Internal   ABS    155  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SV2                                 69         no  BYTE  Internal   ABS    156  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SW0                                 6E         no  BYTE  Internal   ABS    158  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SW1                                 6D         no  BYTE  Internal   ABS    159  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SW2                                 6C         no  BYTE  Internal   ABS    160  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 36  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

ADC_SX0                                 71         no  BYTE  Internal   ABS    162  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SX1                                 70         no  BYTE  Internal   ABS    163  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SX2                                 6F         no  BYTE  Internal   ABS    164  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SY0                                 74         no  BYTE  Internal   ABS    166  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SY1                                 73         no  BYTE  Internal   ABS    167  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SY2                                 72         no  BYTE  Internal   ABS    168  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_THRESHOLD_QUOTIENT                  75         no  BYTE  Internal   ABS    170  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_THRESHOLD_QUOTIENT1                 75         no  BYTE  Internal   ABS    171  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_THRESHOLD_QUOTIENT0                 76         no  BYTE  Internal   ABS    172  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_MAX_QUOTIENT                        77         no  BYTE  Internal   ABS    174  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_MAX_QUOTIENT_S1                     77         no  BYTE  Internal   ABS    175  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_MAX_QUOTIENT_S0                     78         no  BYTE  Internal   ABS    176  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_MAX_REMAINDER                       79         no  BYTE  Internal   ABS    178  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_MAX_REMAINDER_S1                    79         no  BYTE  Internal   ABS    179  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_MAX_REMAINDER_S0                    7A         no  BYTE  Internal   ABS    180  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_NEXT_PTR                            7B         no  BYTE  Internal   ABS    185  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ADC_SLOPE                               7D         no  BYTE  Internal   ABS    190  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
AWU_CSR                               50F0         no  WORD  Internal   ABS    170  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
AWU_APR                               50F1         no  WORD  Internal   ABS    172  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
AWU_TBR                               50F2         no  WORD  Internal   ABS    174  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB0RH                             53E0         no  WORD  Internal   ABS    427  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB0RL                             53E1         no  WORD  Internal   ABS    429  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB1RH                             53E2         no  WORD  Internal   ABS    431  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB1RL                             53E3         no  WORD  Internal   ABS    433  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB2RH                             53E4         no  WORD  Internal   ABS    435  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB2RL                             53E5         no  WORD  Internal   ABS    437  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB3RH                             53E6         no  WORD  Internal   ABS    439  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB3RL                             53E7         no  WORD  Internal   ABS    441  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB4RH                             53E8         no  WORD  Internal   ABS    443  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB4RL                             53E9         no  WORD  Internal   ABS    445  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB5RH                             53EA         no  WORD  Internal   ABS    447  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB5RL                             53EB         no  WORD  Internal   ABS    449  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB6RH                             53EC         no  WORD  Internal   ABS    451  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB6RL                             53ED         no  WORD  Internal   ABS    453  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB7RH                             53EE         no  WORD  Internal   ABS    455  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB7RL                             53EF         no  WORD  Internal   ABS    457  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB8RH                             53F0         no  WORD  Internal   ABS    459  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB8RL                             53F1         no  WORD  Internal   ABS    461  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB9RH                             53F2         no  WORD  Internal   ABS    463  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DB9RL                             53F3         no  WORD  Internal   ABS    465  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CSR                               5400         no  WORD  Internal   ABS    467  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CR1                               5401         no  WORD  Internal   ABS    469  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CR2                               5402         no  WORD  Internal   ABS    471  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_CR3                               5403         no  WORD  Internal   ABS    473  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DRH                               5404         no  WORD  Internal   ABS    475  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_DRL                               5405         no  WORD  Internal   ABS    477  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_TDRH                              5406         no  WORD  Internal   ABS    479  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_TDRL                              5407         no  WORD  Internal   ABS    481  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_HTRH                              5408         no  WORD  Internal   ABS    483  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_HTRL                              5409         no  WORD  Internal   ABS    485  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_LTRH                              540A         no  WORD  Internal   ABS    487  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_LTRL                              540B         no  WORD  Internal   ABS    489  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWSRH                             540C         no  WORD  Internal   ABS    491  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWSRL                             540D         no  WORD  Internal   ABS    493  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWCRH                             540E         no  WORD  Internal   ABS    495  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_AWCRL                             540F         no  WORD  Internal   ABS    497  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ADC_Add_Sum                           8BE3         no  WORD  Internal   ABS     55  public   text        34     0  e:\stm8s\electronic_scale\adc_handler.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 37  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

ADC_Sub_Sum                           8BC1         no  WORD  Internal   ABS     17  public   text        34     0  e:\stm8s\electronic_scale\adc_handler.inc
ADC_Moving_Avg                        8C05         no  WORD  Internal   ABS     98  public   text        18     0  e:\stm8s\electronic_scale\adc_handler.inc
ADC_Convert_Mass                      8C98         no  WORD  Internal   ABS    247  public   text        72     0  e:\stm8s\electronic_scale\adc_handler.inc
ADC_Find_Max                          8C4C         no  WORD  Internal   ABS    165  public   text         8     0  e:\stm8s\electronic_scale\adc_handler.inc
ADC_Find_Min                          8C72         no  WORD  Internal   ABS    203  public   text         8     0  e:\stm8s\electronic_scale\adc_handler.inc

BEEP_CSR                              50F3         no  WORD  Internal   ABS    179  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

CPU_Delay_1us                         89E9         no  WORD  Internal   ABS     11  private  text         0     0  e:\stm8s\electronic_scale\common.inc
CHAR_MASS9                              A8         no  BYTE  Internal   ABS    253  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS8                              A9         no  BYTE  Internal   ABS    254  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS7                              AA         no  BYTE  Internal   ABS    255  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS6                              AB         no  BYTE  Internal   ABS    256  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS5                              AC         no  BYTE  Internal   ABS    257  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS4                              AD         no  BYTE  Internal   ABS    258  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS3                              AE         no  BYTE  Internal   ABS    259  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS2                              AF         no  BYTE  Internal   ABS    260  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS1                              B0         no  BYTE  Internal   ABS    261  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS0                              B1         no  BYTE  Internal   ABS    262  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MASS_1                             B2         no  BYTE  Internal   ABS    263  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_PRICE5                             B4         no  BYTE  Internal   ABS    268  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_PRICE4                             B5         no  BYTE  Internal   ABS    269  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_PRICE3                             B6         no  BYTE  Internal   ABS    270  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_PRICE2                             B7         no  BYTE  Internal   ABS    271  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_PRICE1                             B8         no  BYTE  Internal   ABS    272  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_PRICE0                             B9         no  BYTE  Internal   ABS    273  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD7                         BB         no  BYTE  Internal   ABS    276  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD6                         BC         no  BYTE  Internal   ABS    277  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD5                         BD         no  BYTE  Internal   ABS    278  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD4                         BE         no  BYTE  Internal   ABS    279  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD3                         BF         no  BYTE  Internal   ABS    280  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD2                         C0         no  BYTE  Internal   ABS    281  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD1                         C1         no  BYTE  Internal   ABS    282  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_THRESHOLD0                         C2         no  BYTE  Internal   ABS    283  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY7                             C4         no  BYTE  Internal   ABS    288  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY6                             C5         no  BYTE  Internal   ABS    289  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY5                             C6         no  BYTE  Internal   ABS    290  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY4                             C7         no  BYTE  Internal   ABS    291  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY3                             C8         no  BYTE  Internal   ABS    292  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY2                             C9         no  BYTE  Internal   ABS    293  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY1                             CA         no  BYTE  Internal   ABS    294  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MONEY0                             CB         no  BYTE  Internal   ABS    295  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS9                          CD         no  BYTE  Internal   ABS    301  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS8                          CE         no  BYTE  Internal   ABS    302  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS7                          CF         no  BYTE  Internal   ABS    303  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS6                          D0         no  BYTE  Internal   ABS    304  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS5                          D1         no  BYTE  Internal   ABS    305  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS4                          D2         no  BYTE  Internal   ABS    306  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS3                          D3         no  BYTE  Internal   ABS    307  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS2                          D4         no  BYTE  Internal   ABS    308  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS1                          D5         no  BYTE  Internal   ABS    309  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS0                          D6         no  BYTE  Internal   ABS    310  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CHAR_MAX_MASS_1                         D7         no  BYTE  Internal   ABS    311  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
CLK_ICKR                              50C0         no  WORD  Internal   ABS    125  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_ECKR                              50C1         no  WORD  Internal   ABS    127  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CMSR                              50C3         no  WORD  Internal   ABS    129  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_SWR                               50C4         no  WORD  Internal   ABS    131  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 38  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

CLK_SWCR                              50C5         no  WORD  Internal   ABS    133  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CKDIVR                            50C6         no  WORD  Internal   ABS    135  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_PCKENR1                           50C7         no  WORD  Internal   ABS    137  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CSSR                              50C8         no  WORD  Internal   ABS    139  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CCOR                              50C9         no  WORD  Internal   ABS    141  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_PCKENR2                           50CA         no  WORD  Internal   ABS    143  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_CANCCR                            50CB         no  WORD  Internal   ABS    145  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_HSITRIMR                          50CC         no  WORD  Internal   ABS    147  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CLK_SWIMCCR                           50CD         no  WORD  Internal   ABS    149  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
CFG_GCR                               7F60         no  WORD  Internal   ABS    502  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
Cal_Money                             887E         no  WORD  Internal   ABS     34  private  text         0     0  e:\stm8s\electronic_scale\key.inc

EXTI_CR1                              50A0         no  WORD  Internal   ABS    113  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
EXTI_CR2                              50A1         no  WORD  Internal   ABS    115  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
EMPTY_LINE                            816D         no  WORD  Internal   ABS     53  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc

FLASH_CR1                             505A         no  WORD  Internal   ABS     94  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_CR2                             505B         no  WORD  Internal   ABS     96  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_NCR2                            505C         no  WORD  Internal   ABS     98  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_FPR                             505D         no  WORD  Internal   ABS    100  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_NFPR                            505E         no  WORD  Internal   ABS    102  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_IAPSR                           505F         no  WORD  Internal   ABS    104  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_PUKR                            5062         no  WORD  Internal   ABS    106  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
FLASH_DUKR                            5064         no  WORD  Internal   ABS    108  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

IWDG_KR                               50E0         no  WORD  Internal   ABS    161  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
IWDG_PR                               50E1         no  WORD  Internal   ABS    163  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
IWDG_RLR                              50E2         no  WORD  Internal   ABS    165  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CR1                               5210         no  WORD  Internal   ABS    203  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CR2                               5211         no  WORD  Internal   ABS    205  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_FREQR                             5212         no  WORD  Internal   ABS    207  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_OARL                              5213         no  WORD  Internal   ABS    209  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_OARH                              5214         no  WORD  Internal   ABS    211  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_DR                                5216         no  WORD  Internal   ABS    213  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_SR1                               5217         no  WORD  Internal   ABS    215  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_SR2                               5218         no  WORD  Internal   ABS    217  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_SR3                               5219         no  WORD  Internal   ABS    219  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_ITR                               521A         no  WORD  Internal   ABS    221  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CCRL                              521B         no  WORD  Internal   ABS    223  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_CCRH                              521C         no  WORD  Internal   ABS    225  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_TRISER                            521D         no  WORD  Internal   ABS    227  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
I2C_PECR                              521E         no  WORD  Internal   ABS    229  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR1                              7F70         no  WORD  Internal   ABS    507  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR2                              7F71         no  WORD  Internal   ABS    509  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR3                              7F72         no  WORD  Internal   ABS    511  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR4                              7F73         no  WORD  Internal   ABS    513  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR5                              7F74         no  WORD  Internal   ABS    515  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR6                              7F75         no  WORD  Internal   ABS    517  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
ITC_SPR7                              7F76         no  WORD  Internal   ABS    519  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

KeyDelay                              8A0C         no  WORD  Internal   ABS     10  private  text         0     0  e:\stm8s\electronic_scale\common.inc
KEYDOWN_FLAG                            93         no  BYTE  Internal   ABS    220  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_STORE                          94         no  BYTE  Internal   ABS    223  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_S4                             94         no  BYTE  Internal   ABS    225  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_S3                             95         no  BYTE  Internal   ABS    226  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_S2                             96         no  BYTE  Internal   ABS    227  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_S1                             97         no  BYTE  Internal   ABS    228  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 39  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

KEYBOARD_S0                             98         no  BYTE  Internal   ABS    229  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_PTR                            99         no  BYTE  Internal   ABS    230  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_DOT_OK                         9B         no  BYTE  Internal   ABS    232  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_PRICE_BUF_S4                   9C         no  BYTE  Internal   ABS    234  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_PRICE_BUF_S3                   9D         no  BYTE  Internal   ABS    235  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_PRICE_BUF_S2                   9E         no  BYTE  Internal   ABS    236  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_PRICE_BUF_S1                   9F         no  BYTE  Internal   ABS    237  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_PRICE_BUF_S0                   A0         no  BYTE  Internal   ABS    238  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_THRESHOLD_BUF_S4               A1         no  BYTE  Internal   ABS    241  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_THRESHOLD_BUF_S3               A2         no  BYTE  Internal   ABS    242  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_THRESHOLD_BUF_S2               A3         no  BYTE  Internal   ABS    243  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_THRESHOLD_BUF_S1               A4         no  BYTE  Internal   ABS    244  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEYBOARD_THRESHOLD_BUF_S0               A5         no  BYTE  Internal   ABS    245  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEY_ARRAY_MENU                          A6         no  BYTE  Internal   ABS    248  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KEY_TYPING_FLAG                         A7         no  BYTE  Internal   ABS    249  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
KeyZero_Init                          8397         no  WORD  Internal   ABS     23  private  text         0     0  e:\stm8s\electronic_scale\key.inc
KeyZero_Handler                   000083BC         no  LONG  Internal   ABS     24  private  text         0     0  e:\stm8s\electronic_scale\key.inc
KeyArray_Init                         83D3         no  WORD  Internal   ABS     26  private  text         0     0  e:\stm8s\electronic_scale\key.inc
KeyArray_Scan                         8442         no  WORD  Internal   ABS     27  private  text         0     0  e:\stm8s\electronic_scale\key.inc
KeyArray_Handler                  00008424         no  LONG  Internal   ABS     28  private  text         0     0  e:\stm8s\electronic_scale\key.inc
KeyArray_Settle                       86D7         no  WORD  Internal   ABS     29  private  text         0     0  e:\stm8s\electronic_scale\key.inc
KeyArray_Display                      87C8         no  WORD  Internal   ABS     30  private  text         0     0  e:\stm8s\electronic_scale\key.inc

LCD_Delay                             89FF         no  WORD  Internal   ABS      8  private  text         0     0  e:\stm8s\electronic_scale\common.inc
LCD_VAR0                                00         no  BYTE  Internal   ABS      8  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
LCD_VAR1                                01         no  BYTE  Internal   ABS      9  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
LCD_VAR2                                02         no  BYTE  Internal   ABS     10  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
LCD_Init                              817E         no  WORD  Internal   ABS     43  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_WriChar                           82D2         no  WORD  Internal   ABS     44  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_WriCMD                            832D         no  WORD  Internal   ABS     45  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_WriData                           8346         no  WORD  Internal   ABS     46  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_SerData                           835F         no  WORD  Internal   ABS     47  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_WriString                         82EA         no  WORD  Internal   ABS     48  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_SetCursor                         8318         no  WORD  Internal   ABS     49  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc
LCD_InitCustom                        823B         no  WORD  Internal   ABS     50  private  text         0     0  e:\stm8s\electronic_scale\lcd.inc

MassDivider                           8A27         no  WORD  Internal   ABS     12  private  text         0     0  e:\stm8s\electronic_scale\common.inc
MoneyHandle                           88C0         no  WORD  Internal   ABS     33  private  text         0     0  e:\stm8s\electronic_scale\key.inc
MassHex2DecChar                       8D01         no  WORD  Internal   ABS    343  public   text        24     0  -

NET_ADC                                 83         no  BYTE  Internal   ABS    198  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_ADC0                                86         no  BYTE  Internal   ABS    199  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_ADC1                                85         no  BYTE  Internal   ABS    200  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_ADC2                                84         no  BYTE  Internal   ABS    201  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_ADC3                                83         no  BYTE  Internal   ABS    202  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_BUF                                 87         no  BYTE  Internal   ABS    204  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_BUF3                                87         no  BYTE  Internal   ABS    205  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_BUF2                                88         no  BYTE  Internal   ABS    206  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_BUF1                                89         no  BYTE  Internal   ABS    207  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
NET_BUF0                                8A         no  BYTE  Internal   ABS    208  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc

PRICE_MUL3                              8F         no  BYTE  Internal   ABS    215  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
PRICE_MUL2                              90         no  BYTE  Internal   ABS    216  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
PRICE_MUL1                              91         no  BYTE  Internal   ABS    217  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
PRICE_MUL0                              92         no  BYTE  Internal   ABS    218  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
PA_ODR                                5000         no  WORD  Internal   ABS     16  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_IDR                                5001         no  WORD  Internal   ABS     18  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 40  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

PA_DDR                                5002         no  WORD  Internal   ABS     20  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_CR1                                5003         no  WORD  Internal   ABS     22  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PA_CR2                                5004         no  WORD  Internal   ABS     24  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_ODR                                5005         no  WORD  Internal   ABS     29  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_IDR                                5006         no  WORD  Internal   ABS     31  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_DDR                                5007         no  WORD  Internal   ABS     33  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_CR1                                5008         no  WORD  Internal   ABS     35  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PB_CR2                                5009         no  WORD  Internal   ABS     37  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_ODR                                500A         no  WORD  Internal   ABS     42  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_IDR                                500B         no  WORD  Internal   ABS     44  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_DDR                                500C         no  WORD  Internal   ABS     46  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_CR1                                500D         no  WORD  Internal   ABS     48  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PC_CR2                                500E         no  WORD  Internal   ABS     50  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_ODR                                500F         no  WORD  Internal   ABS     55  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_IDR                                5010         no  WORD  Internal   ABS     57  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_DDR                                5011         no  WORD  Internal   ABS     59  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_CR1                                5012         no  WORD  Internal   ABS     61  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PD_CR2                                5013         no  WORD  Internal   ABS     63  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_ODR                                5014         no  WORD  Internal   ABS     68  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_IDR                                5015         no  WORD  Internal   ABS     70  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_DDR                                5016         no  WORD  Internal   ABS     72  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_CR1                                5017         no  WORD  Internal   ABS     74  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PE_CR2                                5018         no  WORD  Internal   ABS     76  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_ODR                                5019         no  WORD  Internal   ABS     81  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_IDR                                501A         no  WORD  Internal   ABS     83  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_DDR                                501B         no  WORD  Internal   ABS     85  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_CR1                                501C         no  WORD  Internal   ABS     87  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PF_CR2                                501D         no  WORD  Internal   ABS     89  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
PriceAlign                            8767         no  WORD  Internal   ABS     32  private  text         0     0  e:\stm8s\electronic_scale\key.inc

QuadMul                               8AA7         no  WORD  Internal   ABS     16  private  text         0     0  e:\stm8s\electronic_scale\common.inc

RST_SR                                50B3         no  WORD  Internal   ABS    120  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

STR_MASS                                A8         no  BYTE  Internal   ABS    252  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STR_PRICE                               B4         no  BYTE  Internal   ABS    267  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STR_THRESHOLD                           BB         no  BYTE  Internal   ABS    275  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STR_MONEY                               C4         no  BYTE  Internal   ABS    287  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
STR_MAX_MASS                            CD         no  BYTE  Internal   ABS    298  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
SPI_CR1                               5200         no  WORD  Internal   ABS    184  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_CR2                               5201         no  WORD  Internal   ABS    186  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_ICR                               5202         no  WORD  Internal   ABS    188  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_SR                                5203         no  WORD  Internal   ABS    190  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_DR                                5204         no  WORD  Internal   ABS    192  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_CRCPR                             5205         no  WORD  Internal   ABS    194  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_RXCRCR                            5206         no  WORD  Internal   ABS    196  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SPI_TXCRCR                            5207         no  WORD  Internal   ABS    198  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
SaveMaxMass                           8D74         no  WORD  Internal   ABS    462  public   text        18     0  -

TriMul                                8A5C         no  WORD  Internal   ABS     15  private  text         0     0  e:\stm8s\electronic_scale\common.inc
TriDiv                                8B11         no  WORD  Internal   ABS     17  private  text         0     0  e:\stm8s\electronic_scale\common.inc
TIM1_CR1                              5250         no  WORD  Internal   ABS    261  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CR2                              5251         no  WORD  Internal   ABS    263  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_SMCR                             5252         no  WORD  Internal   ABS    265  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_ETR                              5253         no  WORD  Internal   ABS    267  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_IER                              5254         no  WORD  Internal   ABS    269  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_SR1                              5255         no  WORD  Internal   ABS    271  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 41  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

TIM1_SR2                              5256         no  WORD  Internal   ABS    273  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_EGR                              5257         no  WORD  Internal   ABS    275  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR1                            5258         no  WORD  Internal   ABS    277  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR2                            5259         no  WORD  Internal   ABS    279  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR3                            525A         no  WORD  Internal   ABS    281  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCMR4                            525B         no  WORD  Internal   ABS    283  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCER1                            525C         no  WORD  Internal   ABS    285  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCER2                            525D         no  WORD  Internal   ABS    287  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CNTRH                            525E         no  WORD  Internal   ABS    289  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CNTRL                            525F         no  WORD  Internal   ABS    291  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_PSCRH                            5260         no  WORD  Internal   ABS    293  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_PSCRL                            5261         no  WORD  Internal   ABS    295  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_ARRH                             5262         no  WORD  Internal   ABS    297  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_ARRL                             5263         no  WORD  Internal   ABS    299  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_RCR                              5264         no  WORD  Internal   ABS    301  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR1H                            5265         no  WORD  Internal   ABS    303  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR1L                            5266         no  WORD  Internal   ABS    305  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR2H                            5267         no  WORD  Internal   ABS    307  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR2L                            5268         no  WORD  Internal   ABS    309  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR3H                            5269         no  WORD  Internal   ABS    311  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR3L                            526A         no  WORD  Internal   ABS    313  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR4H                            526B         no  WORD  Internal   ABS    315  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_CCR4L                            526C         no  WORD  Internal   ABS    317  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_BKR                              526D         no  WORD  Internal   ABS    319  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_DTR                              526E         no  WORD  Internal   ABS    321  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM1_OISR                             526F         no  WORD  Internal   ABS    323  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CR1                              5300         no  WORD  Internal   ABS    328  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_IER                              5301         no  WORD  Internal   ABS    330  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_SR1                              5302         no  WORD  Internal   ABS    332  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_SR2                              5303         no  WORD  Internal   ABS    334  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_EGR                              5304         no  WORD  Internal   ABS    336  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCMR1                            5305         no  WORD  Internal   ABS    338  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCMR2                            5306         no  WORD  Internal   ABS    340  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCMR3                            5307         no  WORD  Internal   ABS    342  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCER1                            5308         no  WORD  Internal   ABS    344  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCER2                            5309         no  WORD  Internal   ABS    346  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CNTRH                            530A         no  WORD  Internal   ABS    348  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CNTRL                            530B         no  WORD  Internal   ABS    350  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_PSCR                             530C         no  WORD  Internal   ABS    352  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_ARRH                             530D         no  WORD  Internal   ABS    354  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_ARRL                             530E         no  WORD  Internal   ABS    356  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR1H                            530F         no  WORD  Internal   ABS    358  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR1L                            5310         no  WORD  Internal   ABS    360  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR2H                            5311         no  WORD  Internal   ABS    362  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR2L                            5312         no  WORD  Internal   ABS    364  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR3H                            5313         no  WORD  Internal   ABS    366  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM2_CCR3L                            5314         no  WORD  Internal   ABS    368  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CR1                              5320         no  WORD  Internal   ABS    373  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_IER                              5321         no  WORD  Internal   ABS    375  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_SR1                              5322         no  WORD  Internal   ABS    377  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_SR2                              5323         no  WORD  Internal   ABS    379  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_EGR                              5324         no  WORD  Internal   ABS    381  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCMR1                            5325         no  WORD  Internal   ABS    383  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCMR2                            5326         no  WORD  Internal   ABS    385  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCER1                            5327         no  WORD  Internal   ABS    387  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CNTRH                            5328         no  WORD  Internal   ABS    389  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CNTRL                            5329         no  WORD  Internal   ABS    391  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 42  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

TIM3_PSCR                             532A         no  WORD  Internal   ABS    393  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_ARRH                             532B         no  WORD  Internal   ABS    395  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_ARRL                             532C         no  WORD  Internal   ABS    397  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR1H                            532D         no  WORD  Internal   ABS    399  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR1L                            532E         no  WORD  Internal   ABS    401  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR2H                            532F         no  WORD  Internal   ABS    403  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM3_CCR2L                            5330         no  WORD  Internal   ABS    405  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_CR1                              5340         no  WORD  Internal   ABS    410  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_IER                              5341         no  WORD  Internal   ABS    412  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_SR                               5342         no  WORD  Internal   ABS    414  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_EGR                              5343         no  WORD  Internal   ABS    416  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_CNTR                             5344         no  WORD  Internal   ABS    418  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_PSCR                             5345         no  WORD  Internal   ABS    420  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TIM4_ARR                              5346         no  WORD  Internal   ABS    422  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
TypingCursorFlash                     8845         no  WORD  Internal   ABS     31  private  text         0     0  e:\stm8s\electronic_scale\key.inc
ThresholdCheck                        8B9A         no  WORD  Internal   ABS     10  private  text         0     0  e:\stm8s\electronic_scale\beeper.inc

UART2_SR                              5240         no  WORD  Internal   ABS    234  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_DR                              5241         no  WORD  Internal   ABS    236  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_BRR1                            5242         no  WORD  Internal   ABS    238  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_BRR2                            5243         no  WORD  Internal   ABS    240  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR1                             5244         no  WORD  Internal   ABS    242  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR2                             5245         no  WORD  Internal   ABS    244  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR3                             5246         no  WORD  Internal   ABS    246  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR4                             5247         no  WORD  Internal   ABS    248  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR5                             5248         no  WORD  Internal   ABS    250  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_CR6                             5249         no  WORD  Internal   ABS    252  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_GTR                             524A         no  WORD  Internal   ABS    254  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
UART2_PSCR                            524B         no  WORD  Internal   ABS    256  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

WEIGHT_QUOTIENT                         8B         no  BYTE  Internal   ABS    211  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
WEIGHT_REMAINDER                        8D         no  BYTE  Internal   ABS    212  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
WWDG_CR                               50D1         no  WORD  Internal   ABS    154  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc
WWDG_WR                               50D2         no  WORD  Internal   ABS    156  private  text         0     0  c:\program files (x86)\stmicroelectronics\st_toolset\asm\include\STM8S105K.inc

ZERO_ADC                                7F         no  BYTE  Internal   ABS    192  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ZERO_ADC0                               82         no  BYTE  Internal   ABS    193  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ZERO_ADC1                               81         no  BYTE  Internal   ABS    194  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ZERO_ADC2                               80         no  BYTE  Internal   ABS    195  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc
ZERO_ADC3                               7F         no  BYTE  Internal   ABS    196  private  text         0     0  e:\stm8s\electronic_scale\globalvar.inc

accumulation_start                    8C17         no  WORD  Internal   ABS    112  private  text         9     0  -
adc_pos                               8CE0         no  WORD  Internal   ABS    298  private  text        33     0  -

find_max_loop                         8C54         no  WORD  Internal   ABS    173  private  text        21     0  -
find_max_exchange                     8C69         no  WORD  Internal   ABS    183  private  text         5     0  -
find_max_end                          8C6E         no  WORD  Internal   ABS    188  private  text         4     0  -
find_min_loop                         8C7A         no  WORD  Internal   ABS    211  private  text        22     0  -
find_min_exchange                     8C90         no  WORD  Internal   ABS    222  private  text         4     0  -
find_min_end                          8C94         no  WORD  Internal   ABS    226  private  text         4     0  -

mass_neg                              8D19         no  WORD  Internal   ABS    360  private  text         2     0  -
mass_pos                              8D1B         no  WORD  Internal   ABS    362  private  text        89     0  -

remove_polar_value                    8C20         no  WORD  Internal   ABS    119  private  text        44     0  -

savemax_less_or_equal_q               8D86         no  WORD  Internal   ABS    487  private  text        10     0  -
STMicroelectronics list file postprocessor v1.01   (C)2009-2018   Thu Dec 20 01:10:51 2018
Page 43  Assembler
                                               e:\stm8s\electronic_scale\adc_handler.asm

savemax_newmax_exit                   8D90         no  WORD  Internal   ABS    502  private  text         8     0  -
savemax_handle_str_start              8D98         no  WORD  Internal   ABS    509  private  text        86     0  -
savemax_exit                          8DEE         no  WORD  Internal   ABS    581  private  text         6     0  -


492 labels
No errors on assembly of 'e:\stm8s\electronic_scale\adc_handler.asm'